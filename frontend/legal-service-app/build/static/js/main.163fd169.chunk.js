(this["webpackJsonplegal-service-app"]=this["webpackJsonplegal-service-app"]||[]).push([[0],{152:function(e,t,a){},272:function(e,t,a){e.exports=a(583)},277:function(e,t,a){},278:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},298:function(e,t,a){},318:function(e,t,a){},373:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},582:function(e,t,a){},583:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(25),r=a.n(l),o=(a(277),a(5)),s=a(2),i=(a(278),a(18)),m=a(41),u=Object(m.a)(),d=(a(279),a(280),a(281),a(12)),f=(a(282),a(283),a(284),a(285),a(60)),b=a.n(f),E=a(616),p=a(14),g=a.n(p),h=(a(298),a(266));var v=function(e){var t=e.component,a=e.admin,l=Object(h.a)(e,["component","admin"]),r=Object(n.useContext)(qn),o=Object(s.a)(r,1)[0];return console.log("Admin auth",o),a?o.isLoggedIn&&"ADMIN"===o.accountType?c.a.createElement(i.b,Object.assign({},l,{component:t})):c.a.createElement(i.a,{to:"/admin/login"}):o.isLoggedIn?c.a.createElement(i.b,Object.assign({},l,{component:t})):c.a.createElement(i.b,Object.assign({},l,{render:function(){return c.a.createElement(i.a,{to:"/home/login"})}}))},y=a(17),N=function(e){var t=Object(o.a)({maxHeight:"100%",maxWidth:"100%"},e.style),a=e.accreditation;return c.a.createElement("img",Object.assign({},e,{alt:a.accreditation,src:"/ac_".concat(a.id),style:t}))},O=function(e){var t=e.src,a=e.className,n=e.alt,l=e.style,r=e.overwrite,s=void 0===r||r,i=Object(o.a)({maxHeight:"100%",maxWidth:"100%",margin:"auto",display:"block"},l);return c.a.createElement("img",{src:t||"",className:a||"",alt:n||"img",style:s?i:l,onError:function(e){e.target.src="/undraw_male_avatar.svg",e.target.onError=null}})},w=function(e){var t=e.errors,a=void 0===t?[]:t,n=e.placeholder,l=e.value,r=e.name,o=e.OnChangeHandler,s=e.type,i=e.disabled,m=void 0!==i&&i;return c.a.createElement("div",{className:""===l?"form-group form-focus":"form-group form-focus focused"},c.a.createElement("input",Object(y.a)({disabled:m,name:r,value:l,type:s,onChange:o,className:"form-control floating"},"disabled",m)),c.a.createElement("label",{className:"focus-label"},n),a.length>0&&c.a.createElement("label",{className:"text-danger ml-2 font-weight-light text-xs"},a[0]))},j=a(9),_=a.n(j),k=function(e,t){return Object(j.validate)("RegistrationForm",(function(){_.a.only(t),["name","surname","phone","email","password"].forEach((function(t){Object(j.test)(t,"This field is required",(function(){Object(j.enforce)(e[t].toString()).isNotEmpty()}))}));var a=C(e.email.toString(),15);Object(j.test)("email","".concat(a," is not valid email address"),(function(){Object(j.enforce)(e.email.toString()).isNotEmpty().matches(/[^@]+@[^.]+\..+/g)})),Object(j.test)("password","Password should be atleast 8 characters long",(function(){Object(j.enforce)(e.password.toString()).longerThanOrEquals(8)}))}))},x=function(e,t){return Object(j.validate)("LoginForm",(function(){_.a.only(t),["email","password"].forEach((function(t){Object(j.test)(t,"This field is required",(function(){Object(j.enforce)(e[t].toString()).isNotEmpty()}))}));var a=C(e.email.toString(),15);Object(j.test)("email","".concat(a," is not valid email address"),(function(){Object(j.enforce)(e.email.toString()).isNotEmpty().matches(/[^@]+@[^.]+\..+/g)}))}))},S=function(e){return Object(j.validate)("I always pass",(function(){}))},C=function(e,t){return e.length>t?e.substring(0,t)+"...":e},T=function(e,t){return Object(j.validate)("ResetPassword",(function(){_.a.only(t),["newPassword","passwordConfirm"].forEach((function(t){Object(j.test)(t,"This field is required",(function(){Object(j.enforce)(e[t].toString()).isNotEmpty()})),Object(j.test)(t,"Password should be atleast 8 characters long",(function(){Object(j.enforce)(e.newPassword.toString()).longerThanOrEquals(8)}))}))}))},L=function(e,t){return Object(j.validate)("EditPassword",(function(){_.a.only(t),["newPassword","passwordConfirm","oldPassword"].forEach((function(t){Object(j.test)(t,"This field is required",(function(){Object(j.enforce)(e[t].toString()).isNotEmpty()}))})),Object(j.test)("newPassword","Password should be atleast 8 characters long",(function(){Object(j.enforce)(e.newPassword.toString()).longerThanOrEquals(8)})),Object(j.test)("passwordConfirm","Passwords should be matching",(function(){Object(j.enforce)(e.newPassword.toString()===e.passwordConfirm.toString()).isTruthy()})),Object(j.test)("newPassword","New password can't match old password",(function(){Object(j.enforce)(e.newPassword.toString()!==e.oldPassword.toString()).isTruthy()}))}))},P=function(e,t){return Object(j.validate)("EditEmail",(function(){_.a.only(t),Object(j.test)("email","This field is required",(function(){Object(j.enforce)(e.email.toString()).isNotEmpty()}));var a=C(e.email.toString(),15);Object(j.test)("email","".concat(a," is not valid email address"),(function(){Object(j.enforce)(e.email.toString()).isNotEmpty().matches(/[^@]+@[^.]+\..+/g)}))}))},I=function(e,t){return Object(j.validate)("LawyerCompleteRegisteration",(function(){_.a.only(t),Object(j.test)("other","Please enter a type",(function(){0===e.type&&Object(j.enforce)(e.other.toString()).isNotEmpty()})),Object(j.test)("practiceAreas","Please select at least one practice area",(function(){Object(j.enforce)(e.practiceAreas).isNotEmpty()}))}))},A=function(e,t){return Object(j.validate)("Slot properties",(function(){_.a.only(t),Object(j.test)("price","Price must be a non-negative number",(function(){Object(j.enforce)(e.price).isNumeric().greaterThanOrEquals(0)})),Object(j.test)("discount_amount","Discount must be a positive value",(function(){0!==e.discount_type&&Object(j.enforce)(e.discount_amount).isNumeric().greaterThan(0)})),Object(j.test)("discount_end","Discount end date must be after at least 6 hours",(function(){if(0!==e.discount_type)return g()(e.discount_end).isAfter(g()().add(6,"hours"))}))}))},D=function(e,t){return Object(j.validate)("WriteBlog",(function(){_.a.only(t),Object(j.test)("title","Please provide a blog title",(function(){Object(j.enforce)(e.title.toString()).isNotEmpty()})),Object(j.test)("tags","Please select a tag",(function(){Object(j.enforce)(null!==e.tags).isTruthy()}))}))},H=function(e){return Object(j.validate)("ResponsiveChatPage",(function(){Object(j.test)("message","Message is too long",(function(){Object(j.enforce)(e.message.toString().length<=949).isTruthy()}))}))},M=function(e,t){return Object(j.validate)("editInfo",(function(){_.a.only(t),["name","surname","phone"].forEach((function(t){Object(j.test)(t,"This field is required",(function(){Object(j.enforce)(e[t].toString()).isNotEmpty()}))}));var a=e.phone.toString();Object(j.test)("phone","".concat(a," is not a valid phone number"),(function(){Object(j.enforce)(parseInt(a)).isNumeric()})),Object(j.test)("profile","Image size exceeds 2MB",(function(){console.log(e.profile_picture),null!==e.profile_picture&&Object(j.enforce)(e.profile_picture.size/Math.pow(1024,2)<=2).isTruthy()}))}))},q=function(e,t){return Object(j.validate)("AdminLogin",(function(){_.a.only(t),["username","password"].forEach((function(t){Object(j.test)(t,"This field is required",(function(){Object(j.enforce)(e[t].toString()).isNotEmpty()}))})),Object(j.test)("username","".concat(e.username," is not a valid username"),(function(){Object(j.enforce)(e.username.toString()).isNotEmpty().matches(/^(?=.{4,20}$)(?![.])(?!.*[.]{2})[a-zA-Z0-9._]+(?<![.])$/g)}))}))},F=function(e,t){return Object(j.validate)("AddAdmin",(function(){_.a.only(t),["username","password","passConfirm"].forEach((function(t){Object(j.test)(t,"This field is required",(function(){Object(j.enforce)(e[t].toString()).isNotEmpty()}))})),Object(j.test)("username","".concat(e.username," is not a valid username"),(function(){Object(j.enforce)(e.username.toString()).isNotEmpty().matches(/^(?=.{4,20}$)(?![.])(?!.*[.]{2})[a-zA-Z0-9._]+(?<![.])$/g)})),Object(j.test)("password","Password should be atleast 8 characters long",(function(){Object(j.enforce)(e.password.toString()).longerThanOrEquals(8)})),Object(j.test)("passConfirm","Passwords should be matching",(function(){Object(j.enforce)(e.password.toString()===e.passConfirm.toString()).isTruthy()}))}))},R=a(55),G=function(e){var t=Object(n.useState)(S),a=Object(s.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)({resolve:null}),i=Object(s.a)(r,2),m=i[0],u=i[1],d=Object(n.useState)({}),f=Object(s.a)(d,2),b=f[0],E=f[1];Object(n.useEffect)((function(){var e,t=b,a=Object(R.a)(c.tested);try{for(a.s();!(e=a.n()).done;){var n=e.value;t=Object(o.a)(Object(o.a)({},t),{},Object(y.a)({},n,c.getErrors(n)))}}catch(l){a.e(l)}finally{a.f()}E(t),"function"===typeof m.resolve&&m.resolve(c.hasErrors(),t)}),[c]);return[b,function(e,t){var a,n=b,c=Object(R.a)(e);try{for(c.s();!(a=c.n()).done;){var l=a.value;console.log(t[l]),n=Object(o.a)(Object(o.a)({},n),{},Object(y.a)({},l,t[l]))}}catch(r){c.e(r)}finally{c.f()}E(n)},function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l(a?e(t,a):e(t)),new Promise((function(e,t){u({resolve:function(t,a){e(t,a)}})}))}]},B=a(16),z=a.n(B),U=a(20),Y=a(126),W=a.n(Y),V=a(35),J=a.n(V),K={api_url:"https://testingapi.lawbe.co.uk/api",facebook_app_id:"1349693598562280",google_client_id:"195158712353-2fke9kvtdmi5fh8smslcq07c5ka0aa6t.apps.googleusercontent.com",stripe_api_key:"pk_test_51GrJCELS94jyyC52WvWBtWpN9tr9pBMRbLIupx7cxnkf0hPr5rDHdzaH6PsQ5ObtWafCX4LVKwiatKElHsrf1n3F00qfwmclEE"},Z=W.a.create({baseURL:K.api_url,headers:{"Content-Type":"application/json",Accept:"application/json"}});var X=function(){var e=Object(n.useContext)(qn),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(i.g)();function r(){c(Object(o.a)(Object(o.a)({},a),{},{isLoggedIn:!1})),l.push("/admin/login")}function m(){return new Promise((function(e,t){if(a.refreshToken){var n={refresh_token:a.refreshToken};Z.request({method:"POST",url:"/auth/refresh",data:n}).then((function(t){c(Object(o.a)(Object(o.a)({},a),{},{accessToken:t.data.access_token,accountType:"ADMIN",isLoggedIn:!0,accountId:t.data.account.account.id})),e()})).catch((function(){t()}))}else t()}))}function u(e){return d.apply(this,arguments)}function d(){return(d=Object(U.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return Promise.resolve(e.data)},n=function(e){if(e&&e.response){var t=e.response.request.status;401===t?m().catch(r):403===t&&J.a.alert("Current account cannot perform the action required")}else console.error(e);return Promise.reject(e)},e.next=4,Z.request(t).then(a).catch(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.i)(),Object(n.useEffect)((function(){Z.defaults.headers.common={Authorization:"Bearer ".concat(a.accessToken)}}),[a]),{request:u,Logout:function(){J.a.confirm({title:"Confirm",message:"Are you sure you would like to logout admin panel?",callback:function(e){e&&u({url:"/admin/logout",method:"POST",data:null}).finally((function(){c({accessToken:null,accountType:null,refreshToken:null,isLoggedIn:null,accountId:null})}))}})},fetchNewAccessToken:m,refreshAccessToken:function(){return new Promise((function(e,t){Z.request({method:"POST",url:"/admin/refresh-current-token"}).then((function(t){c(Object(o.a)(Object(o.a)({},a),{},{accessToken:t.data.access_token,accountType:t.data.account_type,isLoggedIn:!0,accountId:t.data.account.account.id})),e()})).catch((function(){t()}))}))}}},$=a(13),Q=function(e){var t=Object(o.a)({},e),a=t.loading,n=t.className,l=t.type,r=void 0===l?"submit":l,s=t.onClick,i=t.style;return c.a.createElement("button",{className:n+(a?" cursor-not-allowed":""),type:r,disabled:a,onClick:s,style:i},a?c.a.createElement($.w,{className:"icon-spin"}):e.children)},ee=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),m=Object(s.a)(r,2),u=m[0],d=m[1],f=G(q),b=Object(s.a)(f,3),E=b[0],p=b[1],g=b[2],h=X().request,v=Object(n.useContext)(qn),N=Object(s.a)(v,2),O=(N[0],N[1]),j=function(e){var t=e.target,n=t.name,c=t.value,r=Object(o.a)(Object(o.a)({},a),{},Object(y.a)({},n,c));l(r),g(r,n)},_=Object(i.g)();return c.a.createElement("div",{className:"main-wrapper login-body"},c.a.createElement("div",{className:"login-wrapper"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"loginbox",style:{minHeight:"auto"}},c.a.createElement("div",{className:"login-right-wrap justify-content-center p-4 w-100"},c.a.createElement("h1",{className:"text-center"},"Login"),c.a.createElement("p",{className:"account-subtitle"},"Access to our dashboard"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g(a).then((function(e,t){if(!e){d(!0);h({url:"/admin/login",method:"POST",data:a}).then((function(e){console.log(e),O({accessToken:e.token,accountType:"ADMIN",isLoggedIn:!0,accountId:e.account_id}),_.push("/admin")})).catch((function(e){console.log("failed",e),p(["password","username"],{password:["Invalid password supplied"]})})).finally((function(){d(!1)}))}}))},className:"w-100"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{className:"form-control",type:"username",placeholder:"Username",value:a.username,OnChangeHandler:j,name:"username",errors:E.username})),c.a.createElement("div",{className:"form-group mb-4"},c.a.createElement(w,{className:"form-control",type:"password",placeholder:"Password",value:a.password,OnChangeHandler:j,name:"password",errors:E.password})),c.a.createElement("div",{className:"form-group"},c.a.createElement(Q,{className:"btn btn-primary btn-block",type:"submit",loading:u},"Login"))))))))},te=(a(318),a(8)),ae=function(e){var t=e.lawyer,a=Object(o.a)({},t),l=a.id,r=a.account,i=Object(o.a)({},r).is_active,m=Object(n.useState)(!1),u=Object(s.a)(m,2),d=u[0],f=u[1],b=X().request;return c.a.createElement("tr",null,c.a.createElement("td",null,l),c.a.createElement("td",null,r.full_name),c.a.createElement("td",null,r.phone),c.a.createElement("td",null,r.email),c.a.createElement("td",null,c.a.createElement(Q,{type:"button",className:"btn btn-sm btn-rounded btn-".concat(i?"success":"danger"," mr-2"),loading:d,onClick:function(){f(!0),b({url:"/admin/lawyer/".concat(l),method:"POST",data:{is_active:!i}}).then((function(e){window.location.reload()})).catch((function(e){console.log(e)})).finally((function(){f(!1)}))}},i?"Deactivate":"Activate")))},ne=function(e){return c.a.createElement("div",{className:"tab-pane show active",id:"upcoming-appointments"},c.a.createElement("div",{className:"card card-table mb-0"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-hover table-center mb-0",style:{backgroundColor:"white",display:"block"}},c.a.createElement("tbody",{style:{width:"100%",display:"table"}},c.a.createElement("thead",null,c.a.createElement("tr",null,e.header.map((function(e,t){return c.a.createElement("th",{key:t},e)})))),e.children))))))},ce=function(){var e=["ID","Name","Phone","Email","Actions"],t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),m=i[0],u=i[1],d=X().request;return Object(n.useEffect)((function(){d({url:"/admin/lawyers?is_active=false",method:"GET"}).then((function(e){return r(e.lawyers),d({url:"/admin/lawyers?is_active=true",method:"GET"})})).then((function(e){u(e.lawyers)})).catch((function(e){console.log(e)})).finally((function(){}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("ul",{className:"nav nav-tabs nav-tabs-solid nav-justified"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link active",href:"#solid-rounded-justified-tab1","data-toggle":"tab"},"New Lawyers")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"#solid-rounded-justified-tab2","data-toggle":"tab"},"All Lawyers")))),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"tab-content"},c.a.createElement("div",{className:"tab-pane show active",id:"solid-rounded-justified-tab1"},c.a.createElement(ne,{header:e},l.map((function(e,t){return c.a.createElement(ae,{lawyer:e,key:t})})))),c.a.createElement("div",{className:"tab-pane",id:"solid-rounded-justified-tab2"},c.a.createElement(ne,{header:e},m.map((function(e,t){return c.a.createElement(ae,{lawyer:e,key:t})}))))))))},le=function(e){var t=e.src,a=e.className,n=e.alt,l=e.style,r=e.containerStyle;return c.a.createElement("div",{style:Object(o.a)({justifyContent:"center",alignItems:"center",display:"flex"},r)},c.a.createElement("img",{src:t||"/blog-02.jpg",className:a||"",alt:n||"img",style:Object(o.a)({maxHeight:"100%",maxWidth:"100%",width:"unset",margin:"auto",display:"block"},l)}))},re=function(e){return c.a.createElement("div",{className:"error-page",style:{width:"100%"}},c.a.createElement("div",{className:"main-wrapper"},c.a.createElement("div",{className:"error-box"},c.a.createElement("img",{className:"img-fluid",src:"/undraw_Notify_re_65on.svg",style:Object(o.a)(Object(o.a)({},e.imageStyle),{},{height:"auto"})}),c.a.createElement("h3",{className:"h2 mb-3"},c.a.createElement("i",{className:"fa fa-warning"})," ",e.children),c.a.createElement("p",{className:"h4 font-weight-normal"},e.label?e.label:"Please re-try another time"))))},oe=a(607),se=a(615),ie=function(e){var t=e.diameter,a=void 0===t?170:t,n=e.src,l=e.alt,r=Object(oe.a)((function(e){return{root:{display:"flex","& > *":{height:a,width:a}}}}))();return c.a.createElement("div",{className:r.root},c.a.createElement(se.a,{alt:l,src:n},c.a.createElement("img",{alt:"error loading",src:"/undraw_male_avatar.svg"})))},me={position:"absolute",padding:"12px 24px",border:"medium none",cursor:"pointer",borderRadius:"5px",right:"0",bottom:"0"},ue=function(e){var t=e.blog,a=e.editable,n=e.col,l=void 0===n?6:n,r=e.to,s=void 0===r?"/blogs/blog/":r,i=Object(o.a)({},t),m=i.lawyer,u=i.id,d=Object(o.a)({},m).account;return c.a.createElement("div",{className:"col-md-".concat(l," col-sm-12")},c.a.createElement("div",{className:"blog grid-blog"},c.a.createElement("div",{className:"blog-image"},c.a.createElement(te.b,{to:{pathname:"".concat(s).concat(u),state:{blog:t,lawyer:m}}},c.a.createElement(le,{src:t.cover_photo_link,alt:"Post Image",className:"img-fluid",containerStyle:{height:"210px",maxHeight:"210px"}})),a&&c.a.createElement(te.b,{to:"/dashboard/blogs/edit-blog/".concat(u),className:"btn btn-primary",style:me},"Edit")),c.a.createElement("div",{className:"blog-content"},c.a.createElement("ul",{className:"entry-meta meta-item",style:{display:"flex"}},c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(te.b,{to:{pathname:"/profile/".concat(m.id,"/").concat(m.account.full_name.replace(/ +/g,"-")),state:{lawyer:m}},style:{display:"flex",alignItems:"center"}},c.a.createElement(ie,{src:d.profile_picture,alt:"Post Author",diameter:28}),c.a.createElement("span",{className:"ml-3"},"".concat(m.account.name," ").concat(m.account.surname))))),c.a.createElement("li",{style:{display:"inline",maxWidth:"unset",width:"unset",flex:"0 0 auto"}},c.a.createElement("i",{className:"far fa-clock"})," ",g()(t.publish_date).format("D MMM YYYY"))),c.a.createElement("h3",{className:"blog-title"},c.a.createElement(te.b,{to:"".concat(s).concat(u)},t.title)),c.a.createElement("ul",{className:"tags mt-2"},c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"tag"},t.tag.area))))))},de=function(e){var t=e.blogs,a=e.editable,n=e.col,l=e.to;return t?c.a.createElement("div",{className:"row blog-grid-row"},t.length?t.map((function(e){return c.a.createElement(ue,{key:e.id,blog:e,editable:a,col:n,to:l})})):c.a.createElement(re,null,"There ara no published blogs")):c.a.createElement(ue,null)},fe=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=X().request;return Object(n.useEffect)((function(){r({url:"admin/blogs",method:"GET"}).then((function(e){console.log(e),l(e.blogs)})).catch((function(){})).finally((function(){}))}),[]),c.a.createElement(de,{blogs:a,to:"/admin/blog-details/"})},be=a(109),Ee=a.n(be),pe=a(115),ge=a(253),he=function(e){var t=e.title,a=e.description,n=e.robots,l=e.image,r="Lawbe | The lawyer's platform",o="Book lawyers that fit in your schedule. And have meetings in the comfort of your own home.";return c.a.createElement(c.a.Fragment,null,c.a.createElement(ge.a,null,c.a.createElement("title",null,t||r),c.a.createElement("meta",{name:"description",content:a||o}),n&&c.a.createElement("meta",{name:"robots",content:n}),c.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0,user-scalable=0;"}),c.a.createElement("meta",{charset:"UTF-8"}),c.a.createElement("meta",{property:"og:title",content:t||r}),c.a.createElement("meta",{property:"og:description",content:a||o}),c.a.createElement("meta",{property:"og:image",content:l||""}),c.a.createElement("meta",{name:"twitter:title",content:t||r}),c.a.createElement("meta",{name:"twitter:description",content:a||o}),c.a.createElement("meta",{name:"twitter:image",content:l||""}),c.a.createElement("meta",{name:"twitter:card",content:l||""})))},ve=W.a.create({baseURL:K.api_url,headers:{"Content-Type":"application/json",Accept:"application/json"}});var ye=function(){var e=Object(n.useContext)(qn),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(i.g)(),r=Object(i.i)();function m(){c(Object(o.a)(Object(o.a)({},a),{},{isLoggedIn:!1})),"login"===r.params[r.params.length-1]&&l.push(r.params[0])}function u(){return new Promise((function(e,t){if(a.refreshToken){var n={refresh_token:a.refreshToken};ve.request({method:"POST",url:"/auth/refresh",data:n}).then((function(t){c(Object(o.a)(Object(o.a)({},a),{},{accessToken:t.data.access_token,accountType:t.data.account_type,isLoggedIn:!0,accountId:t.data.account.account.id})),e()})).catch((function(){t()}))}else t()}))}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(U.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return Promise.resolve(e.data)},n=function(e){if(e&&e.response){var t=e.response.request.status;401===t?u().catch(m):403===t&&J.a.alert("Current account cannot perform the action required")}else console.error(e);return Promise.reject(e)},e.next=4,ve.request(t).then(a).catch(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){ve.defaults.headers.common={Authorization:"Bearer ".concat(a.accessToken)}}),[a]),{request:d,Logout:function(){J.a.confirm({title:"Confirm",message:"Are you sure you would like to logout of lawbe ?",callback:function(e){e&&d({url:"auth/logout",method:"POST",data:null}).finally((function(){c({accessToken:null,accountType:null,refreshToken:null,isLoggedIn:null,accountId:null})}))}})},fetchNewAccessToken:u,refreshAccessToken:function(){return new Promise((function(e,t){ve.request({method:"POST",url:"/auth/refresh-current-token"}).then((function(t){c(Object(o.a)(Object(o.a)({},a),{},{accessToken:t.data.access_token,accountType:t.data.account_type,isLoggedIn:!0,accountId:t.data.account.account.id})),e()})).catch((function(){t()}))}))}}},Ne=a(110),Oe=a.n(Ne),we=a(74),je=a.n(we),_e=a(99),ke=a(31),xe=a.n(ke),Se=a(66),Ce={momentsjs_default_datetime_format:"Y-MM-DD HH:mm:ss",momentsjs_default_date_format:"Y-MM-DD",default_currency_symbol:"\xa3"},Te=function(e){var t=e.lawyer,a=e.setPopUp,l=void 0===a?function(){}:a,r=Object(n.useContext)(qn),o=Object(s.a)(r,1)[0],i=ye().request;return c.a.createElement("div",{className:"card",onMouseOverCapture:function(){return l(t)}},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"lawyer-widget"},c.a.createElement("div",{className:"lawyer-info-left"},c.a.createElement("div",{className:"law-img"},c.a.createElement(ie,{diameter:150,alt:t.full_name,src:t.account.profile_picture})),c.a.createElement("div",{className:"lawyer-info-cont"},c.a.createElement("h4",{className:"lawyer-name text-left"},c.a.createElement("strong",null,t.account.name+" "+t.account.surname)),c.a.createElement("p",{className:"lawyer-education"},"licenced in: ",t.years_licenced,". ",t.institution),c.a.createElement("p",{className:"lawyer-department"},c.a.createElement("strong",null,t.lawyer_type.type)),c.a.createElement("div",{className:"rating"},c.a.createElement(xe.a,{rating:parseFloat(t.ratings_average),starRatedColor:"gold",starDimension:"20px",starSpacing:"0px",numberOfStars:5,name:"rating"}),"\xa0",c.a.createElement("span",{className:"d-inline-block text-xs average-rating"},"(",t.ratings_count,")")),c.a.createElement("div",{className:"session-services"},t.accreditations&&c.a.createElement(c.a.Fragment,null,t.accreditations.map((function(e,t){if(t<2)return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,{style:{maxHeight:"50px",marginRight:"5px"},accreditation:e}))})))),c.a.createElement("div",{className:"session-services"},t.practice_areas&&c.a.createElement(c.a.Fragment,null,t.practice_areas.map((function(e,t){if(t<2)return c.a.createElement("span",{key:e.id},e.area)})),t.practice_areas.length>2&&c.a.createElement(te.b,{to:{pathname:"/profile/".concat(t.id,"/").concat(t.account.full_name.replace(/ +/g,"-")),state:{lawyer:t}}},"+".concat(t.practice_areas.length-2," more")))))),c.a.createElement("div",{className:"lawyer-info-right"},c.a.createElement("div",{className:"session-infos"},c.a.createElement("ul",null,t.account.city&&t.account.country?c.a.createElement("li",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ","".concat(t.account.city,", ").concat(t.account.country)):c.a.createElement("li",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ","-"),c.a.createElement(Le,{secsTillEnd:new Date(t.discount_end),cost:t.price_per_hour,costAfterDiscount:t.discounted_price_per_hour,discount:t.discount,isPercent:t.is_percent_discount,currency:t.currency_symbol}),c.a.createElement("li",null,o.isLoggedIn&&"CLIENT"===o.accountType&&c.a.createElement("button",{className:"btn btn-primary btn-xs btn-block",onClick:function(){!function(e){var t=o.accountId,a="/chat/".concat(t,"/").concat(e);i({url:a,method:"POST"}).then((function(e){u.push("/client-dashboard/chat/".concat(e.chat_id))})).catch((function(){d.b.error("An error occured")}))}(t.account.id)}},c.a.createElement($.i,null),"\xa0Message lawyer")))),c.a.createElement("div",{className:"session-booking"},c.a.createElement(te.b,{className:"view-pro-btn",to:{pathname:"/profile/".concat(t.id,"/").concat(t.account.full_name.replace(/ +/g,"-")),state:{lawyer:t}}},"View Profile"),c.a.createElement(te.b,{className:"apt-btn",to:{pathname:"list/book-lawyer/".concat(t.id)}},"Book Appointment"))))))},Le=function(e){var t=e.secsTillEnd,a=e.cost,n=e.costAfterDiscount,l=e.isPercent,r=e.discount,s=e.currency;return c.a.createElement(Se.a,{date:t,renderer:function(e){return Pe(Object(o.a)(Object(o.a)({},e),{},{cost:a,discount:n,discountValue:r,isPercent:l,currency:s||Ce.default_currency_symbol}))}})},Pe=function(e){var t=e.days,a=e.hours,n=e.minutes,l=e.seconds,r=e.completed,o=e.cost,s=e.discount,i=e.isPercent,m=e.discountValue,u=e.currency;return r?c.a.createElement("li",null,c.a.createElement("i",{className:"far fa-money-bill-alt"}),c.a.createElement("label",{className:"text-lg text-primary"},"".concat(u).concat(o))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("i",{className:"far fa-money-bill-alt"}),c.a.createElement("label",{className:"text-lg text-success"},c.a.createElement("span",{style:{fontWeight:"bold"}},u,s),"\xa0",c.a.createElement("strike",{className:"text-lg text-danger"},"".concat(u," ").concat(o)),"\xa0",c.a.createElement("strong",{className:"text-xs"},"(",i?"-".concat(m,"%"):"-".concat(u).concat(m),")"))),c.a.createElement("li",null,"Ends in ",c.a.createElement("strong",null,t)," ",1!==t?"days":"day"," and"," ",c.a.createElement("strong",null,c.a.createElement("span",null,Object(Se.b)(a),":",Object(Se.b)(n),":",Object(Se.b)(l)))))},Ie=function(e){var t=e.lawyers,a=e.setPopUp;return t?t.map((function(e){return c.a.createElement(Te,{key:e.id,setPopUp:a,lawyer:e})})):c.a.createElement(Te,null)},Ae=a(65),De=a.n(Ae),He=(a(373),function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),m=o[0],u=o[1],d=G(),f=(Object(s.a)(d,3)[2],Object(n.useState)("")),b=Object(s.a)(f,2),E=b[0],p=b[1],g=ye().request;Object(n.useEffect)((function(){u(!0),g({url:"/lawyer/search?term=".concat(E),method:"GET"}).then((function(e){l(e.lawyers)})).catch((function(e){l([])})).finally((function(){u(!1)}))}),[E]);var h=Object(n.useState)(0),v=Object(s.a)(h,2),y=v[0],N=v[1],O=Object(i.g)();return c.a.createElement("div",{className:"row form-row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"form-group",style:{minWidth:"93%"}},c.a.createElement("input",{className:"form-control",placeholder:"Enter Lawyer Name",onChange:function(e){var t=e.target.value;p(t)},onKeyUp:function(e){if(null!==a&&0!==a.length){switch(e.keyCode){case 40:N((y+1)%a.length);break;case 38:N((y+a.length-1)%a.length);break;case 13:O.push("/profile/".concat(a[y].id,"/").concat(a[y].account.full_name.replace(/ +/g,"-")))}}},value:E,style:{borderRadius:"50px",fontSize:"1.2em",padding:"20px"}}),a&&""!==E.trim()&&c.a.createElement("div",{style:{position:"absolute",display:"block",width:"99%",backgroundColor:"#fff",borderRadius:"0px 0px 10px 10px",border:"1px solid #ccc",marginRight:"5px",maxHeight:"300px",overflowY:"auto",zIndex:"999"}},a.length?a.map((function(e,t){return c.a.createElement("div",{className:"inline-search-result "+(t===y?"highlight-result":"")},c.a.createElement(te.b,{to:"/profile/".concat(e.id,"/").concat(e.account.full_name.replace(/ +/g,"-")),className:"d-flex"},c.a.createElement(ie,{alt:e.full_name,className:"rounded-circle",src:e.account.profile_picture,diameter:50}),c.a.createElement("div",{className:"ml-3 mt-1",style:{display:"grid"}},c.a.createElement("b",null,e.account.full_name),c.a.createElement("span",{className:"text-muted text-sm"},e.lawyer_type.type))))})):c.a.createElement("span",{className:"d-block text-center p-3"},c.a.createElement($.t,null),"\xa0no matches found")))),c.a.createElement("div",{className:"col-auto"},c.a.createElement(Q,{type:"submit",style:{height:"46px",borderRadius:"50%"},className:"btn btn-block btn-primary search-btn",loading:m},c.a.createElement("i",{className:"fas fa-search"}))))}),Me=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)("Select location"),o=Object(s.a)(r,2),i=o[0],m=o[1],d=Object(n.useState)([]),f=Object(s.a)(d,2),b=f[0],E=f[1],p=Object(n.useState)([]),g=Object(s.a)(p,2),h=g[0],v=g[1],y=Object(n.useState)(!1),N=Object(s.a)(y,2),O=N[0],w=N[1],j=ye().request;Object(n.useEffect)((function(){j({url:"lawyer/practice-areas",method:"GET"}).then((function(e){var t=e.areas.map((function(e,t){return{label:e.area,value:e.id,name:"practiceAreas"}}));v(t)}))}),[]);var _=[{value:"london",label:"London"},{value:"paris",label:"Paris"},{value:"rome",label:"Rome"},{value:"uk",label:"UK"},{value:"cairo",label:"Cairo"}];Object(n.useEffect)((function(){_e.get("https://ipinfo.io",(function(e){for(var t=e.city,a=0;a<_.length;++a)if(t.toLowerCase()==_[a].value){l(_[a]),w(!0);break}}),"jsonp")}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(he,{title:"Find and book lawyers in your area | Lawbe",description:"Lawbe helps you find, compare and book meetings with the best lawyers from the comfort of your home"}),c.a.createElement("div",{className:"container-fluid",style:{padding:"unset"}},c.a.createElement("div",{className:"cover d-flex",style:{height:"80vh",flexDirection:"column",justifyContent:"center",position:"relative",width:"100vw"}},c.a.createElement("video",{className:"d-none d-md-block",autoPlay:!0,muted:!0,loop:!0,style:{position:"absolute",bottom:0,right:0,minWidth:"100vw",zIndex:-1e3}},c.a.createElement("source",{src:"video.mp4",type:"video/mp4"})),c.a.createElement("div",{className:"d-none d-md-block",style:{position:"absolute",bottom:0,right:0,top:0,minWidth:"100vw",minHeight:"10px",zIndex:-1e3,backgroundColor:"rgba(9,125,225,0.2)"}}),c.a.createElement("div",{className:"d-block d-md-none",style:{position:"absolute",bottom:0,right:0,top:0,minWidth:"100vw",minHeight:"10px",zIndex:-1e3,backgroundColor:"rgba(9,125,225,0.9)"}}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"cover-container"},c.a.createElement("h1",{className:"font-weight-bold text-center d-block text-light cover-text",style:{fontSize:"calc(1vw + 3em)"}},c.a.createElement("span",{style:{color:"#09e5ab",padding:"20px",backgroundColor:"rgba(0,0,0,0.5)",display:"inline-block",borderRadius:"6px"}},"Search Lawyers")," Book an Appointment")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("p",{className:"text-center d-block text-light",style:{fontSize:"2em"}},"Discover the best lawyers the city nearest to you."))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3"},c.a.createElement("div",{className:"search-box"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=b.map((function(e){return e.value})).join(","),n=null===a||null===a.value?"":a.value;u.push({pathname:"/list",search:""!==n||""!==t?"?location=".concat(n,"&practice_areas=").concat(t):""})}},c.a.createElement("div",{className:"row form-row"},c.a.createElement("div",{className:"col-12 col-md-5 p-1"},c.a.createElement(je.a,{create:!0,backspaceDelete:!0,handleKeyDownFn:function(e){8===e.event.keyCode&&l({value:null})},onCreateNew:function(){return m("")},className:"search-form-control",placeholder:i,values:a?[a]:[],searchable:!0,options:_,onChange:function(e){var t=Object(s.a)(e,1)[0];l(t),console.log(t)},style:{minHeight:"46px",backgroundColor:"#fff"}}),O&&c.a.createElement("span",{className:"form-text"},"Based on your Location")),c.a.createElement("div",{className:"col-12 col-md-6 p-1"},c.a.createElement(je.a,{multi:!0,className:"search-form-control",placeholder:"Select Area of Practice",value:b,searchable:!0,closeOnSelect:!0,options:h,onChange:function(e){return E(e)},style:{minHeight:"46px",backgroundColor:"#fff"}})),c.a.createElement("div",{className:"col-12 col-md-1 p-1"},c.a.createElement("button",{type:"submit",className:"btn btn-primary search-btn btn-block"},c.a.createElement("i",{className:"fas fa-search"})," ",c.a.createElement("span",null,"Search"))))))))),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3"},c.a.createElement("div",{className:"search-box"},c.a.createElement("div",{className:"separator"},"or Search lawyer by name!"),c.a.createElement(He,null))))),c.a.createElement(Fe,null),c.a.createElement(Ge,null),c.a.createElement(ze,null))},qe={dots:!0,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!1,dots:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},Fe=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"lawyer/practice-areas",method:"GET"}).then((function(e){l(e.areas)}))}),[]),c.a.createElement("section",{className:"section section-specialities"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"section-header text-center"},c.a.createElement("h2",null,"Area of expertises")),c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement("div",{className:"specialities-slider slider"},c.a.createElement(Oe.a,qe,a.map((function(e,t){return c.a.createElement(Re,{key:t,url:"",label:e.area})}))))))))},Re=function(e){e.url;var t=e.label;return c.a.createElement("div",{className:"speicality-item text-center"},c.a.createElement("div",{className:"speicality-img",style:{margin:"auto"}},c.a.createElement("img",{className:"img-fluid",alt:"Speciality",src:"/avatar.svg"}),c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),c.a.createElement("p",null,t))},Ge=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=De.a.stringify({length:6,order:"ratings"}),o=ye().request;return Object(n.useEffect)((function(){o({url:"/lawyer/all?"+r,method:"GET"}).then((function(e){l(e.lawyers)})).catch((function(e){}))}),[]),c.a.createElement("section",{className:"section section-lawyer"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("div",{className:"section-header "},c.a.createElement("h2",null,"Book Our Lawyers"))),c.a.createElement("div",{className:"col-lg-8"},c.a.createElement("div",{className:"lawyer-slider slider"},c.a.createElement(Oe.a,qe,a.map((function(e,t){return c.a.createElement(Be,{key:t,account:e.account,lawyer:e})}))))))))},Be=function(e){var t=e.account,a=e.lawyer;return c.a.createElement("div",{className:"profile-widget"},c.a.createElement("div",{className:"lawyer-img",style:{maxWidth:"100%"}},c.a.createElement(te.b,{to:{pathname:"/profile/".concat(a.id,"/").concat(a.account.full_name.replace(/ +/g,"-")),state:{lawyer:a}},style:{justifyContent:"center",display:"flex"}},c.a.createElement(ie,{src:t.profile_picture,alt:"User Image",diameter:170}))),c.a.createElement("div",{className:"pro-content"},c.a.createElement("h3",{className:"title"},c.a.createElement(te.b,{to:{pathname:"/profile/".concat(a.id,"/").concat(a.account.full_name.replace(/ +/g,"-")),state:{lawyer:a}}},"".concat(t.name," ").concat(t.surname)),c.a.createElement("i",{className:"fas fa-check-circle verified"})),c.a.createElement("div",{className:"speciality text-muted"},a.lawyer_type.type),c.a.createElement("div",{className:"rating mt-2"},c.a.createElement(xe.a,{rating:parseFloat(a.ratings_average),starRatedColor:"gold",starDimension:"20px",starSpacing:"0px",numberOfStars:5,name:"rating"}),"\xa0",c.a.createElement("span",{className:"d-inline-block text-xs average-rating"},"(",a.ratings.length,")")),c.a.createElement("ul",{className:"available-info mt-2"},c.a.createElement("li",null,c.a.createElement("i",{className:"far fa-comment"})," ",a.ratings_count," Feedback"),a.account.city&&a.account.country?c.a.createElement("li",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ","".concat(a.account.city,", ").concat(a.account.country)):c.a.createElement("li",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ","-"),c.a.createElement("li",null,c.a.createElement("i",{className:"fas fa-money-bill"})," ",a.discounted_price_per_hour!==a.price_per_hour?c.a.createElement("s",null,a.currency_symbol,a.price_per_hour):"","\xa0",c.a.createElement("b",null,a.currency_symbol,a.discounted_price_per_hour)," per hour")),c.a.createElement("div",{className:"row row-sm"},c.a.createElement("div",{className:"col-6"},c.a.createElement(te.b,{to:{pathname:"/profile/".concat(a.id,"/").concat(a.account.full_name.replace(/ +/g,"-")),state:{lawyer:a}},className:"btn view-btn",style:{fontSize:"12px"}},"View Profile")),c.a.createElement("div",{className:"col-6"},c.a.createElement(te.b,{to:{pathname:"".concat(u.location.pathname,"/book-lawyer/").concat(a.id),state:{lawyer_id:a.id}},className:"btn book-btn"},"Book Now")))))},ze=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/blogs/latest/".concat(4),method:"GET"}).then((function(e){l(e.blogs)})).catch((function(e){}))}),[]),c.a.createElement("section",{className:"section section-blogs",style:{backgroundColor:"#fff"}},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"section-header text-center"},c.a.createElement("h2",null,"Blogs and News")),c.a.createElement("div",{className:"row blog-grid-row"},a.map((function(e,t){return c.a.createElement("div",{className:"col-md-6 col-lg-3 col-sm-12"},c.a.createElement(Ue,{key:t,blog:e}))}))),c.a.createElement("div",{className:"view-all text-center"},c.a.createElement(te.b,{to:"/blogs",className:"btn btn-primary"},"View All"))))},Ue=function(e){var t=e.blog,a=Object(o.a)({},t),n=a.lawyer,l=a.id,r=Object(o.a)({},n).account;return c.a.createElement("div",{className:"blog grid-blog"},c.a.createElement("div",{className:"blog-image"},c.a.createElement(te.b,{to:"/blogs/blog/".concat(l)},c.a.createElement(le,{src:t.cover_photo_link,alt:"Post Image",className:"img-fluid",containerStyle:{height:"210px",maxHeight:"210px"}}))),c.a.createElement("div",{className:"blog-content"},c.a.createElement("ul",{className:"entry-meta meta-item"},c.a.createElement("li",null,c.a.createElement("div",{className:"post-author"},c.a.createElement(te.b,{to:"/profile/".concat(n.id,"/").concat(n.account.full_name.replace(/ +/g,"-"))},c.a.createElement(ie,{src:r.profile_picture,alt:"Post Author",diameter:40}),c.a.createElement("span",null,"".concat(r.name," ").concat(r.surname))))),c.a.createElement("li",null,c.a.createElement("i",{className:"far fa-clock"})," ",g()(t.puplished_at).format("D MMMM YYYY"))),c.a.createElement("h3",{className:"blog-title"},c.a.createElement(te.b,{to:"/blogs/blog/".concat(l)},t.title)),c.a.createElement("ul",{className:"tags mt-2"},c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"tag"},t.tag.area)))))},Ye=function(e){var t=e.lawyer,a=Object(o.a)({},t).account;return c.a.createElement("div",{className:"card author-widget clearfix"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",{className:"card-title"},"About Author")),c.a.createElement("div",{className:"card-body",style:{display:"flex"}},c.a.createElement("div",{className:"about-author",style:{display:"flex"}},c.a.createElement("div",{className:"about-author-img"},c.a.createElement("div",{className:"author-img-wrap",style:{display:"flex",justifyContent:"center"}},c.a.createElement(te.b,{to:{pathname:"/profile/".concat(t.id,"/").concat(t.account.full_name.replace(/ +/g,"-")),state:{lawyer:t}}},c.a.createElement(ie,{alt:"Author",src:a.profile_picture,diameter:60})))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-lg-6"},c.a.createElement("div",{className:"author-details"},c.a.createElement(te.b,{className:"blog-author-name",to:{pathname:"/profile/".concat(t.id,"/").concat(t.account.full_name.replace(/ +/g,"-")),state:{lawyer:t}}},"".concat(t.account.name," ").concat(t.account.surname)),c.a.createElement("p",{className:"lawyer-bio mb-0"},t.biography))),c.a.createElement("div",{className:"col-12 col-lg-6"},c.a.createElement("div",{className:"session-booking p-3"},c.a.createElement(te.b,{className:"view-pro-btn",to:{pathname:"/profile/".concat(t.id,"/").concat(t.account.full_name.replace(/ +/g,"-")),state:{lawyer:t}}},"View Profile"),c.a.createElement(te.b,{className:"apt-btn",to:{pathname:"".concat(u.location.pathname,"/book-lawyer/").concat(t.id)}},"Book Appointment")))))))},We=function(e){e.id;var t=K.url+u.location.pathname;return c.a.createElement("div",{className:"card blog-share clearfix"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",{className:"card-title"},"Share the post")),c.a.createElement("div",{className:"card-body"},c.a.createElement(pe.Facebook,{small:!0,circle:!0,solid:!0,link:t}),c.a.createElement(pe.Twitter,{small:!0,circle:!0,solid:!0,link:t}),c.a.createElement(pe.Linkedin,{small:!0,circle:!0,solid:!0,link:t}),c.a.createElement(pe.Google,{small:!0,circle:!0,solid:!0,link:t})))},Ve=function(e){var t=e.blog,a=e.lawyer,l=Object(o.a)({},a).account,r=new Ee.a,s=Object(n.useRef)(null),i=Object(n.useContext)(Mn);return Object(n.useEffect)((function(){r.openFile({name:"blog details",content:{text:t.body}},!0),r.on("fileChange",(function(e){s.current&&(i.setIsLoadingOverlayShown(!1),s.current.innerHTML=e.content.html)}))}),[]),c.a.createElement("div",{className:"blog blog-single-post"},c.a.createElement("div",{className:"blog-image"},c.a.createElement(le,{alt:"",src:t.cover_photo_link,style:{maxHeight:"400px",display:"block",margin:"auto"},className:"img-fluid"})),c.a.createElement("h3",{className:"blog-title"},t.title),c.a.createElement("div",{className:"blog-info clearfix"},c.a.createElement("div",{className:"post-left"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("div",{className:"post-author-2"},c.a.createElement(te.b,{to:{pathname:"/profile/".concat(a.id,"/").concat(a.account.full_name.replace(/ +/g,"-")),state:{lawyer:a}}},c.a.createElement(ie,{src:l.profile_picture,alt:"Post Author",diameter:40}),c.a.createElement("span",null,"\xa0","".concat(a.account.name," ").concat(a.account.surname))))),c.a.createElement("li",null,c.a.createElement("i",{className:"far fa-calendar"}),g()(new Date(t.publish_date)).format("Do of MMMM, hh:mm a")),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-tags"})," ",t.tag.area)))),c.a.createElement("div",{className:"blog-content",ref:s}))},Je={dots:!0,infinite:!1,speed:500,slidesToShow:2,slidesToScroll:1,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!1,dots:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},Ke=function(e){var t=e.lawyer,a=Object(n.useState)(null),l=Object(s.a)(a,2),r=l[0],o=l[1],i=ye().request;return Object(n.useEffect)((function(){i({url:"/blogs/lawyer/".concat(t.id),method:"GET"}).then((function(e){console.log(e),o(e.blogs)})).catch((function(){}))}),[]),c.a.createElement("div",{className:"card author-widget clearfix"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",{className:"card-title"},"Other blogs by this author")),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"lawyer-slider slider"},c.a.createElement(Oe.a,Je,r&&r.map((function(e){return c.a.createElement(Ue,{key:e.id,blog:e})}))))))},Ze=function(e){var t=e.match,a=Object(n.useState)(null),l=Object(s.a)(a,2),r=l[0],o=l[1],i=Object(n.useState)(null),m=Object(s.a)(i,2),u=m[0],d=m[1],f=Object(n.useState)(!1),E=Object(s.a)(f,2),p=E[0],g=E[1],h=ye().request,v=Object(n.useContext)(qn),y=Object(s.a)(v,1)[0];return console.log(t),Object(n.useEffect)((function(){g(!0);var e="/blogs/".concat(t.params.blogId);"ADMIN"===y.accountType&&(e="/admin/blog/".concat(t.params.blogId)),h({url:e,method:"GET"}).then((function(e){o(e.blog.lawyer),d(e.blog)})).catch((function(){console.error("Error occurred loading blog post")})).finally((function(){g(!1)}))}),[t.params.blogId]),c.a.createElement(b.a,{active:p,spinner:!0,text:"Loading"},c.a.createElement(he,{title:null!==u&&u.title,description:null!==u&&u.body.substr(0,128)}),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"blog-view"},u&&c.a.createElement(Ve,{blog:u,lawyer:r}),u&&c.a.createElement(We,{id:t.params.blogId}),r&&c.a.createElement(Ye,{lawyer:r}),r&&c.a.createElement(Ke,{lawyer:r}))))))},Xe=a(36),$e=(a(385),function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),l=a[0],r=a[1],o=X().request,i=function(t){r(!0),o({url:"/admin/blog/".concat(e.match.params.blogId),method:"POST",data:{status:t}}).then((function(e){d.b.success("Blog status updated")})).catch((function(e){d.b.error("Error Occurred")})).finally((function(){r(!1)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xe.a,{offsetTop:85,style:{zIndex:99}},c.a.createElement("div",{className:"blog-publish"},c.a.createElement(Q,{type:"button",className:"btn btn-sm btn-rounded btn-success mr-2",onClick:function(){return i("PUBLISHED")},loading:l},"Publish"),c.a.createElement(Q,{type:"button",className:"btn btn-sm btn-rounded btn-danger",onClick:function(){return i("UNDER_REVIEW")},loading:l},"Remove"))),c.a.createElement(Ze,e))}),Qe=function(){var e=Object(n.useState)({username:"",password:"",passConfirm:""}),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),m=i[0],u=i[1],f=G(F),b=Object(s.a)(f,3),E=b[0],p=b[1],g=b[2],h=X().request,v=function(e){var t=e.target,n=t.name,c=t.value,r=Object(o.a)(Object(o.a)({},a),{},Object(y.a)({},n,c));l(r),g(r,n),"password"===n&&""!==a.passConfirm&&g(r,"passConfirm")};return c.a.createElement("div",{className:"justify-content-center p-4 w-100"},c.a.createElement("h1",{className:"text-center"},"Add Admin"),c.a.createElement("p",{className:"account-subtitle"},"Access to our dashboard"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g(a).then((function(e,t){e||(u(!0),h({url:"/admin/add",method:"POST",data:a}).then((function(e){console.log("success",e),d.b.success("Added Admin")})).catch((function(e){var t=e.response.data.errors,a=[];for(var n in t)a.push(n);p(a,t)})).finally((function(){u(!1)})))}))}},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{className:"form-control",type:"username",placeholder:"Username",name:"username",value:a.username,errors:E.username,OnChangeHandler:v})),c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{className:"form-control",type:"password",placeholder:"Password",name:"password",value:a.password,errors:E.password,OnChangeHandler:v})),c.a.createElement("div",{className:"form-group mb-5"},c.a.createElement(w,{className:"form-control",type:"password",placeholder:"Confirm Password",name:"passConfirm",value:a.passConfirm,errors:E.passConfirm,OnChangeHandler:v})),c.a.createElement("div",{className:"form-group mb-0"},c.a.createElement(Q,{className:"btn btn-primary btn-block",type:"submit",loading:m},"Add Admin"))))},et=function(e){var t=e._path,a=e.close,n=X().Logout;return c.a.createElement("div",{className:"sidebar-inner slimscroll"},c.a.createElement("div",{id:"sidebar-menu",className:"sidebar-menu"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(te.c,{to:"".concat(t,"/lawyers"),onClick:a},c.a.createElement("span",null,"Lawyers"))),c.a.createElement("li",null,c.a.createElement(te.c,{to:"".concat(t,"/new-blogs"),onClick:a},c.a.createElement("span",null,"Blogs"))),c.a.createElement("li",null,c.a.createElement(te.c,{to:"".concat(t,"/add-admin"),onClick:a},c.a.createElement("span",null,"Add Admin"))),c.a.createElement("li",null,c.a.createElement("a",{href:"#",onClick:n},c.a.createElement("i",{className:"fas fa-sign-out-alt"}),c.a.createElement("span",null,"Logout"))))))},tt=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useRef)(null);Object(n.useEffect)((function(){return document.addEventListener("mousedown",o),function(){return document.removeEventListener("mousedown",o)}}),[r]);var o=function(e){r.current&&!r.current.contains(e.target)&&l(!1)};return c.a.createElement("div",{className:"main-wrapper ".concat(a?"slide-nav":"")},c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header-left"},c.a.createElement("a",{href:"/admin",className:"logo"},c.a.createElement("b",null,"Lawbe"),".co.uk"),c.a.createElement("a",{href:"/admin",className:"logo logo-small"},c.a.createElement("b",null,"Lawbe"))),c.a.createElement("div",{className:"mobile_btn",onClick:function(){return l(!a)}},c.a.createElement("i",{className:"fa fa-bars"}))),c.a.createElement("div",{className:"sidebar",id:"sidebar",ref:r},c.a.createElement(et,{close:function(){return l(!1)},_path:"/admin"})),c.a.createElement(i.c,{history:u},c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"content container-fluid"},c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/admin"},c.a.createElement(i.a,{to:"/admin/lawyers"})),c.a.createElement(i.b,{path:"".concat("/admin","/lawyers")},c.a.createElement(ce,null)),c.a.createElement(i.b,{path:"".concat("/admin","/new-blogs")},c.a.createElement(fe,null)),c.a.createElement(i.b,{path:"".concat("/admin","/blog-details/:blogId"),component:$e}),c.a.createElement(i.b,{path:"".concat("/admin","/add-admin"),component:Qe}))))))},at=function(){return c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/admin/login"},c.a.createElement(ee,null)),c.a.createElement(v,{path:"/admin",admin:!0},c.a.createElement(tt,null)))},nt=function(){var e=Object(n.useContext)(qn),t=Object(s.a)(e,1)[0],a=Object(n.useState)(t.accountType),l=Object(s.a)(a,2),r=l[0],o=l[1],i=Object(n.useRef)(null),m=Object(n.useState)(!1),u=Object(s.a)(m,2),d=u[0],f=u[1],b=Object(n.useState)({}),E=Object(s.a)(b,2),p=E[0],g=E[1],h=ye(),v=h.request,y=h.Logout;Object(n.useEffect)((function(){t.isLoggedIn&&v({url:"/account/personal-info",method:"GET"}).then((function(e){g(e.profile_data),o("CLIENT"===t.accountType)})).catch((function(e){}))}),[]),Object(n.useEffect)((function(){return document.addEventListener("mousedown",N),function(){return document.removeEventListener("mousedown",N)}}),[i]);var N=function(e){i.current&&!i.current.contains(e.target)&&f(!1)},w=function(){f(!d)};return c.a.createElement("li",{className:"nav-item dropdown has-arrow logged-item ".concat(d?"show":""),ref:i},c.a.createElement("a",{href:"#",className:"dropdown-toggle nav-link",onClick:w},c.a.createElement("span",{className:"user-img"},c.a.createElement(O,{className:"rounded-circle",src:p.profile_picture,style:{width:"31"},alt:p.name,overwrite:!1}))),null!==t.accountType&&c.a.createElement("div",{className:"dropdown-menu dropdown-menu-right ".concat(d?"show":"")},c.a.createElement("div",{className:"user-header"},c.a.createElement("div",{className:"avatar avatar-sm"},c.a.createElement(O,{src:p.profile_picture,alt:"User Image",className:"avatar-img rounded-circle"})),c.a.createElement("div",{className:"user-text"},c.a.createElement("h6",null,p.name?"".concat(p.name," ").concat(p.surname):"loading..."),c.a.createElement("p",{className:"text-muted mb-0"},r?"Client":"Lawyer"))),c.a.createElement(te.b,{className:"dropdown-item",to:r?"/client-dashboard":"/dashboard",onClick:w},"Dashboard"),c.a.createElement(te.b,{className:"dropdown-item",to:"/".concat("CLIENT"===t.accountType?"client-dashboard":"dashboard","/chat"),onClick:w},"Messages"),c.a.createElement(te.b,{className:"dropdown-item",to:"/calendar",onClick:w},"Agenda"),c.a.createElement(te.b,{className:"dropdown-item",to:"".concat(r?"/client-dashboard":"/dashboard","/settings/basic-info"),onClick:w},"Profile Settings"),c.a.createElement("button",{className:"dropdown-item",onClick:function(){w(),y()}},"Logout")))},ct=a(29),lt=a(166);a(386);var rt=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])},ot=function(e){var t=e.setNew,a=e.markAllAsReadToggle,l=Object(n.useState)([]),r=Object(s.a)(l,2),o=r[0],i=r[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),f=u[0],b=u[1],E=ye().request,p=Object(n.useContext)(qn),h=Object(s.a)(p,1)[0],v=Object(n.useContext)(Fn).notificationsState,y=new Audio("/bell.mp3");Object(n.useEffect)((function(){N()}),[a]);var N=function(){h.isLoggedIn&&(f||(b(!0),E({url:"/account/notifications",method:"GET"}).then((function(e){if(i(Object(ct.a)(e.notifications)),t(e.notifications.length),e.notifications.length>o.length)for(var a=0;a<e.notifications.length-o.length;++a)n=e.notifications[a].data,"function"===typeof v.shouldNotNotify&&v.shouldNotNotify(n)?O(n.id):y.play();var n})).catch((function(e){})).finally((function(){b(!1)}))))};Object(n.useEffect)(N,[]);var O=function(e){E({url:"/account/notification/".concat(e),method:"GET"}).then((function(e){N()})).catch((function(e){d.b.error("An Error Occurred")}))};return rt((function(){N()}),15e3),c.a.createElement("ul",{className:"notification-list"},o&&o.length?o.map((function(e){return c.a.createElement("li",{className:"notification-message",key:e.id},c.a.createElement("a",{href:"#",onClick:function(){return O(e.id)}},c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"media-body"},c.a.createElement(st,e),c.a.createElement("p",{className:"noti-time"},c.a.createElement("span",{className:"notification-time"},"at ".concat(g()(e.created_at).format("MM/D, hh:mm a"))))))))})):c.a.createElement(re,{imageStyle:{width:"50%"},label:" "},"There are no new notifications"))},st=function(e){var t=e.data,a=t.type,l=t.notification_data,r=Object(n.useContext)(qn),o=Object(s.a)(r,1)[0];switch(a){case"INCOMING_MESSAGE":return c.a.createElement(te.b,{to:"/".concat("CLIENT"===o.accountType?"client-dashboard":"dashboard","/chat/").concat(l.chat_id)},c.a.createElement("p",{className:"noti-details"},c.a.createElement("span",{className:"noti-title"},"".concat(l.sender_name," Sent you a message!")),c.a.createElement("br",null),l.message_hint));case"APPOINTMENT_RESERVATION":var i=new Date(l.date);return c.a.createElement("p",{className:"noti-details"},c.a.createElement("span",{className:"noti-title"},"".concat(l.client_name," has booked assesion with you at ").concat(i.toLocaleString())));case"UPCOMING_APPOINTMENT":return c.a.createElement("p",{className:"noti-details"},c.a.createElement("span",{className:"noti-title"},"There is an upcoming appointment!"));case"APPOINTMENT_CANCELLED":return c.a.createElement("p",{className:"noti-details"},c.a.createElement("span",{className:"noti-title"},"An appointment has been cancelled!"),c.a.createElement("br",null),l.message_hint);default:return c.a.createElement("p",null," no data ")}},it=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(0),o=Object(s.a)(r,2),i=o[0],m=o[1],u=Object(n.useState)(!1),f=Object(s.a)(u,2),b=f[0],E=f[1],p=ye().request,g=Object(n.useRef)(null);Object(n.useEffect)((function(){return document.addEventListener("mousedown",h),function(){return document.removeEventListener("mousedown",h)}}),[g]);var h=function(e){g.current&&!g.current.contains(e.target)&&l(!1)};return c.a.createElement("li",{className:"nav-item dropdown noti-dropdown ".concat(a?"show":""),ref:g},c.a.createElement("a",{href:"#",className:"dropdown-toggle nav-link",onClick:function(){l(!a)},style:{fontSize:"1.9rem",lineHeight:"56px"}},c.a.createElement(lt.a,null)," ",0!==i&&c.a.createElement("span",{className:"badge badge-danger badge-pill"},i)),c.a.createElement("div",{className:"dropdown-menu notifications ".concat(a?"show":"")},c.a.createElement("div",{className:"topnav-dropdown-header"},c.a.createElement("span",{className:"notification-title"},"Notifications")),c.a.createElement("div",{className:"noti-content",style:{display:""}},c.a.createElement(ot,{setNew:m,markAllAsReadToggle:b})),c.a.createElement("div",{className:"topnav-dropdown-footer"},c.a.createElement("a",{href:"#",className:"clear-noti",onClick:function(){p({url:"/account/mark-read-notifications",method:"GET"}).then((function(e){E(!b),d.b.success("Marked all as read successfully!")})).catch((function(e){d.b.error("An Error Occured")}))}},"Mark all read"))))},mt=function(){var e=Object(n.useContext)(qn),t=Object(s.a)(e,1)[0],a=Object(n.useState)(!0),l=Object(s.a)(a,2),r=l[0],o=l[1],i=Object(n.useRef)(null),m=function(){window.innerWidth<=991&&o(!1)};Object(n.useEffect)((function(){return document.addEventListener("mousedown",m),function(){return document.removeEventListener("mousedown",m)}}),[i]);var d=function(){window.innerWidth>=991?o(!0):o(!1)};Object(n.useEffect)(d,[]),Object(n.useEffect)((function(){return window.addEventListener("resize",d),function(){return window.removeEventListener("resize",d)}}));var f=ye(),b=f.refreshAccessToken,E=f.fetchNewAccessToken;return Object(n.useEffect)((function(){t.isLoggedIn||b().then((function(){})).catch((function(){console.log("Fetching new access token"),E().catch((function(){}))}))}),[t]),c.a.createElement(Xe.a,{style:{zIndex:10}},c.a.createElement("header",{className:"header"},c.a.createElement("nav",{className:"navbar navbar-expand-lg header-nav"},c.a.createElement("div",{className:"navbar-header"},c.a.createElement("a",{id:"mobile_btn",onClick:function(){return o(!0)},href:"#"},c.a.createElement("span",{className:"bar-icon"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null))),c.a.createElement(te.b,{className:"navbar-brand logo",to:"/"},c.a.createElement("img",{src:"/logo2.png",style:{maxWidth:"100%",maxHeight:"100%"}}))),c.a.createElement("div",{className:"main-menu-wrapper",style:{transform:r?"translateX(0px)":"translateX(-260px)"},ref:i},c.a.createElement("div",{className:"menu-header"},c.a.createElement(te.b,{className:"menu-logo",to:"/"},c.a.createElement("b",null,"Lawbe"),".co.uk"),c.a.createElement("a",{id:"menu_close",onClick:function(){return o(!1)},className:"menu-close",href:"#"},c.a.createElement("i",{className:"fas fa-times"}))),c.a.createElement("ul",{className:"main-nav"},c.a.createElement("li",{onClick:m},c.a.createElement(te.b,{to:"/"},"Home")),c.a.createElement("li",{onClick:m},c.a.createElement(te.b,{to:"/list"},"Lawyers")),c.a.createElement("li",{onClick:m},c.a.createElement(te.b,{to:"/blogs"},"Blogs")),c.a.createElement("li",{className:"login-link"},c.a.createElement(te.b,{onClick:m,to:"".concat(u.location.pathname,"/login"),style:{visibility:t.isLoggedIn?"hidden":"visible"}},"Login / Signup")))),c.a.createElement("ul",{className:"nav header-navbar-rht"},c.a.createElement("li",{className:"nav-item singup",style:{display:t.isLoggedIn?"none":""}},c.a.createElement(te.b,{className:"nav-link header-login",to:"".concat(u.location.pathname,"/login")},"login / Signup"," ")),t.isLoggedIn&&c.a.createElement(it,null),t.isLoggedIn&&c.a.createElement(nt,null)))))},ut=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"lawyer/practice-areas",method:"GET"}).then((function(e){l(e.areas)}))}),[]),c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"footer-top"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-3 col-md-6"},c.a.createElement("div",{className:"footer-widget footer-about"},c.a.createElement("div",{className:"footer-about-content"},c.a.createElement("div",{className:"footer-logo"},c.a.createElement("p",{className:"menu-logo",to:"/"},c.a.createElement("img",{src:"/logo1.png",style:{maxWidth:"100%",height:"100px",marginRight:"5px"}}),c.a.createElement("img",{src:"/logo3.png",style:{maxWidth:"100%",height:"100px"}}))),c.a.createElement("p",null,"Describtion"),c.a.createElement("div",{className:"social-icon"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(te.b,{to:"#",target:"_blank"},c.a.createElement("i",{className:"fab fa-facebook-f"})," ")),c.a.createElement("li",null,c.a.createElement(te.b,{to:"#",target:"_blank"},c.a.createElement("i",{className:"fab fa-twitter"})," ")),c.a.createElement("li",null,c.a.createElement(te.b,{to:"#",target:"_blank"},c.a.createElement("i",{className:"fab fa-linkedin-in"}))),c.a.createElement("li",null,c.a.createElement(te.b,{to:"#",target:"_blank"},c.a.createElement("i",{className:"fab fa-instagram"}))),c.a.createElement("li",null,c.a.createElement(te.b,{to:"#",target:"_blank"},c.a.createElement("i",{className:"fab fa-dribbble"})," "))))))),c.a.createElement("div",{className:"col-lg-6 col-md-12"},c.a.createElement("div",{className:"footer-widget footer-menu"},c.a.createElement("h2",{className:"footer-title"},"Practice Areas"),c.a.createElement("ul",null,a.map((function(e,t){return c.a.createElement("li",{key:t,style:{width:"50%",minWidth:"220px"}},c.a.createElement(te.b,{to:{pathname:"/list",search:"?practice_areas=".concat(e.id)}},e.area))}))))),c.a.createElement("div",{className:"col-lg-3 col-md-6"},c.a.createElement("div",{className:"footer-widget footer-contact"},c.a.createElement("h2",{className:"footer-title"},"Contact Us"),c.a.createElement("div",{className:"footer-contact-info"},c.a.createElement("div",{className:"footer-address"},c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"})),c.a.createElement("p",null,"Company location")),c.a.createElement("p",{className:"mb-0"},c.a.createElement("i",{className:"fas fa-envelope"}),"contact email"))))))),c.a.createElement("div",{className:"footer-bottom"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"copyright"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement("div",{className:"copyright-text"},c.a.createElement("p",{className:"mb-0"},"\xa9 2020 Lawbe. All rights reserved."))),c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement("div",{className:"copyright-menu"},c.a.createElement("ul",{className:"policy-menu"},c.a.createElement("li",null,c.a.createElement(te.b,{to:"term-condition.html"},"Terms and Conditions")),c.a.createElement("li",null,c.a.createElement(te.b,{to:"privacy-policy.html"},"Policy"))))))))))},dt=a(111),ft=a.n(dt),bt=a(180);a(387);var Et=function(e){e.params;var t=e.OnChangeHandler,a=e.selectedValue,n=e.filter,l=e.setFilter,r=e.filterHandler,s=e.filterClear;return c.a.createElement("div",{className:"breadcrumb-bar"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row align-items-center",style:{flexWrap:"inherit"}},c.a.createElement("form",{className:"card-body form-row p-2"},c.a.createElement("div",{className:"filter-widget calendar-filter-widget mb-0 "},c.a.createElement("div",{className:"cal-icon"},c.a.createElement(ft.a,{className:"form-control mb-0",selected:n.date,onChange:function(e){return l(Object(o.a)(Object(o.a)({},n),{},{date:e}))},minDate:new Date,placeholderText:"Available on"}))),c.a.createElement("div",{className:"btn-search align-left ml-2"},c.a.createElement("button",{type:"button",className:"btn btn-block font-weight-bold",onClick:r},c.a.createElement($.v,null))),c.a.createElement("div",{className:"btn-search align-left ml-2"},c.a.createElement("button",{type:"button",className:"btn btn-block font-weight-bold",onClick:s},c.a.createElement(bt.a,null)))),c.a.createElement("div",{className:"sort-by"},c.a.createElement("span",{className:"sort-title"},"Sort by"),c.a.createElement("span",{className:"sortby-fliter"},c.a.createElement(je.a,{style:{borderColor:"#dcdcdc",backgroundColor:"#ffffff",color:"#333",minHeight:"45px",borderRadius:".25rem"},value:a,options:[{value:"ratings",label:"Rating"},{value:"price",label:"Price"},{value:"popular",label:"Popular"}],onChange:t})))),c.a.createElement("div",{className:"row align-items-center d-none display-xs-flex",style:{flexWrap:"inherit"}},c.a.createElement("div",{className:"btn-search-2 mr-2"},c.a.createElement("button",{type:"button",className:"btn btn-block font-weight-bold",onClick:r},c.a.createElement($.v,null))),c.a.createElement("div",{className:"btn-search-2"},c.a.createElement("button",{type:"button",className:"btn btn-block font-weight-bold",onClick:s},c.a.createElement(bt.a,null))))))},pt=function(e){var t=e.lawyer,a=Object(o.a)({},t).account;return t&&c.a.createElement("div",{className:"card flex-fill mr-2 d-none d-lg-flex"},c.a.createElement("div",{className:"arrow-left",style:{marginLeft:"-10px"}}),c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("div",{className:"profile-info-widget justify-content-center"},c.a.createElement(te.b,{to:"profile/".concat(t.id)},c.a.createElement(ie,{src:a.profile_picture,diameter:100}))),c.a.createElement("div",{className:"profile-det-info mt-4",style:{textAlign:"center"}},c.a.createElement("h2",null,"".concat(a.name," ").concat(a.surname))),c.a.createElement("div",{className:"profile-det-info",style:{textAlign:"center"}},c.a.createElement("span",null,c.a.createElement("strong",null,t.lawyer_type.type))),c.a.createElement("div",{className:"profile-det-info",style:{textAlign:"center"}},c.a.createElement("span",null,a.city)),c.a.createElement("div",{className:"justify-content-center",style:{display:"flex"}},c.a.createElement(xe.a,{rating:parseFloat(t.ratings_average),starRatedColor:"gold",starDimension:"20px",starSpacing:"0px",numberOfStars:5,name:"rating"}))),c.a.createElement("div",{className:"m-2"},c.a.createElement("div",{className:"card-body p-0"},c.a.createElement("div",{style:{display:"inline"}},c.a.createElement(gt,{lawyer:t})))),c.a.createElement("div",{className:"m-2"},c.a.createElement(te.b,{className:"btn btn-primary btn-block",to:{pathname:"list/book-lawyer/".concat(t.id)}},c.a.createElement($.d,null),"\xa0Book Appointment")))},gt=function(e){for(var t=e.lawyer,a=Object(n.useState)([]),l=Object(s.a)(a,2),r=l[0],o=l[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],d=m[1],f=[],E=0;E<7;++E){f.push([]);for(var p=0;p<4;++p)f[E].push(0)}var g=Object(n.useState)(f),h=Object(s.a)(g,2),v=h[0],y=h[1],N=Object(n.useState)(1),O=Object(s.a)(N,2),w=O[0],j=O[1],_=ye().request;return Object(n.useEffect)((function(){null!==t&&(d(!0),_({url:"lawyer/".concat(t.id,"/schedule"),method:"POST",data:{days_to_show:7}}).then((function(e){console.log(e);var t=e.schedule.days.map((function(e,t){return e.name}));o(t);var a=f.slice(),n=0,c=0;e.schedule.days.map((function(e,t){for(var l=0;l<e.slots.length;++l){var r=e.slots[l].time;r>="00:00"&&r<"06:00"&&!e.slots[l].reserved?a[t][0]++:r>="06:00"&&r<"12:00"&&!e.slots[l].reserved?a[t][1]++:r>="12:00"&&r<"18:00"&&!e.slots[l].reserved?a[t][2]++:e.slots[l].reserved||a[t][3]++,n+=e.slots[l].length,c++}})),j(n/c),y(a)})).catch((function(e){console.log(e)})).finally((function(){d(!1)})))}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{active:u,spinner:!0,text:"Loading"},c.a.createElement("table",{className:"calender"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{colSpan:"2"}),r.map((function(e){return c.a.createElement("th",{key:e,style:{fontSize:"12px",textAlign:"center",padding:"2px",whiteSpace:"nowrap"}},e.substr(0,3))})))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"2",style:{whiteSpace:"nowrap",fontSize:"12px"}},"Morning",c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted"},"00:00 - 06:00")),v.map((function(e,t){var a=e[0]*w/360;return c.a.createElement("td",{key:t,style:{backgroundColor:"rgba(9, 229, 171, "+a+")"}})}))),c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"2",style:{whiteSpace:"nowrap",fontSize:"12px"}},"Afternoon",c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted"},"06:00 - 12:00")),v.map((function(e,t){var a=e[1]*w/360;return c.a.createElement("td",{key:t,style:{backgroundColor:"rgba(9, 229, 171, "+a+")"}})}))),c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"2",style:{whiteSpace:"nowrap",fontSize:"12px"}},"Evening",c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted"},"12:00 - 18:00")),v.map((function(e,t){var a=e[2]*w/360;return c.a.createElement("td",{key:t,style:{backgroundColor:"rgba(9, 229, 171, "+a+")"}})}))),c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"2",style:{whiteSpace:"nowrap",fontSize:"12px"}},"Night",c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted"},"18:00 - 00:00")),v.map((function(e,t){var a=e[3]*w/360;return c.a.createElement("td",{key:t,style:{backgroundColor:"rgba(9, 229, 171, "+a+")"}})})))))))};var ht=Object(i.j)((function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(0),m=Object(s.a)(i,2),u=m[0],d=m[1],f=Object(n.useState)(3),b=Object(s.a)(f,2),E=b[0],p=(b[1],Object(n.useState)(null)),g=Object(s.a)(p,2),h=g[0],v=g[1],y=Object(n.useState)(null),N=Object(s.a)(y,2),O=N[0],w=N[1],j=Object(n.useState)(null),_=Object(s.a)(j,2),k=_[0],x=_[1],S=Object(n.useState)({date:new Date}),C=Object(s.a)(S,2),T=C[0],L=C[1],P=Object(n.useState)(Object(o.a)(Object(o.a)({},De.a.parse(e.location.search)),{},{offset:u,length:E})),I=Object(s.a)(P,2),A=I[0],D=I[1],H=Object(n.useContext)(Mn),M=ye().request,q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];H.setLoadingOverlayText("Loading..."),H.setIsLoadingOverlayShown(!0),console.log("params : ",e),console.log("qs: ",De.a.stringify(e)),M({url:"/lawyer/all?"+(null!==e?De.a.stringify(e):""),method:"GET"}).then((function(e){var a=new Array;Array.isArray(e.lawyers)?a=e.lawyers:Object.keys(e.lawyers).map((function(t,n){a.push(e.lawyers[t])})),console.log(a),v(t?[].concat(Object(ct.a)(h),Object(ct.a)(a)):a),0===a.length&&F()})).catch((function(e){})).finally((function(){H.setIsLoadingOverlayShown(!1)}))},F=function(){H.setLoadingOverlayText("Loading..."),H.setIsLoadingOverlayShown(!0),M({url:"/lawyer/all",method:"GET"}).then((function(e){var t=new Array;Array.isArray(e.lawyers)?t=e.lawyers:Object.keys(e.lawyers).map((function(a,n){t.push(e.lawyers[a])})),console.log(t),w(t)})).catch((function(e){})).finally((function(){H.setIsLoadingOverlayShown(!1)}))};return Object(n.useEffect)((function(){console.log(A),q(A)}),[]),Object(n.useEffect)((function(){console.log(e.location.search);var t=Object(o.a)(Object(o.a)({},De.a.parse(e.location.search)),{},{offset:0,length:E});D(t),q(t)}),[e.location.search]),c.a.createElement("div",null,c.a.createElement(he,{title:"Available Lawyers list | Lawbe",description:"A list of the best lawyers from all across the country, book them now!"}),c.a.createElement(Et,{params:A,OnChangeHandler:function(e){var t=Object(s.a)(e,1)[0].value;r(t),d(0);var a=Object(o.a)(Object(o.a)({},A),{},{offset:0,length:E,order:t});D(a),console.log("Sort: ",a),q(a),x(null)},selectedValue:l,filter:T,setFilter:L,filterHandler:function(){var e=new Date(T.date);e=e.toISOString().slice(0,10),console.log("date : ",e);var t=Object(o.a)(Object(o.a)({},A),{},{available_on:e,offset:0,length:E});x(null),D(t),q(t)},filterClear:function(){var e={offset:0,length:E};D(e),q(e)}}),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"row justify-content-center align-content-center"},c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-8"},h&&c.a.createElement(Ie,{lawyers:h,setPopUp:x}),h&&0===h.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"No lawyers matched your criteria. Check out those lawyers"),O&&c.a.createElement(Ie,{lawyers:O,setPopUp:x})),c.a.createElement("div",{className:"load-more text-center"},c.a.createElement("a",{className:"btn btn-primary btn-sm",href:"//",onClick:function(e){e.preventDefault(),d(u+E);var t=Object(o.a)(Object(o.a)({},A),{},{offset:u+E,length:E});D(t),q(t,!0)}},"Load More"))),c.a.createElement("div",{className:"col-sm-0 col-md-0 col-lg-4"},c.a.createElement(Xe.a,{style:{height:"300px"},offsetTop:85,offsetBottom:20},c.a.createElement(pt,{lawyer:k})))))))))})),vt=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),l=a[0],r=a[1],o=ye().request;return console.log(u),Object(n.useEffect)((function(){e.setIsLoading(!0);var t=u.location.pathname+u.location.search;o({url:t,method:"GET"}).then((function(e){console.log(e),r(e.blogs)})).catch((function(){})).finally((function(){e.setIsLoading(!1)}))}),[u.location]),c.a.createElement(b.a,{active:e.isLoading,spinner:!0,text:"Loading"},l&&c.a.createElement(de,Object.assign({},e,{blogs:l})))},yt=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1];return c.a.createElement("div",{className:"card search-widget"},c.a.createElement("div",{className:"card-body"},c.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),u.push({pathname:"/blogs/search",search:De.a.stringify({term:a})})}},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",placeholder:"Search...",className:"form-control",value:a,name:"searchInput",onChange:function(e){var t=e.target.value;l(t)}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{type:"submit",className:"btn btn-primary"},c.a.createElement("i",{className:"fa fa-search"})))))))},Nt=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/blogs/latest/".concat(3),method:"GET"}).then((function(e){l(e.blogs)})).catch((function(e){}))}),[]),c.a.createElement("div",{className:"card post-widget"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",{className:"card-title"},"Latest Posts")),c.a.createElement("div",{className:"card-body"},a&&c.a.createElement(wt,{latest:a})))},Ot=function(e){var t=e.blog;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"post-thumb"},c.a.createElement(ie,{src:t.cover_photo_link,alt:"",diameter:80})),c.a.createElement("div",{className:"post-info"},c.a.createElement("h4",null,c.a.createElement(te.b,{to:"/blogs/blog/".concat(t.id)},t.title)),c.a.createElement("p",null,g()(t.publish_date).format("Do of MMMM, hh:mm a"))))},wt=function(e){var t=e.latest;return c.a.createElement("ul",{className:"latest-posts"},t.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(Ot,{blog:e}))})))},jt=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/lawyer/practice-areas",method:"GET"}).then((function(e){console.log(e),l(e.areas)})).catch((function(){}))}),[]),c.a.createElement("div",{className:"card tags-widget"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",{className:"card-title"},"Tags")),c.a.createElement("div",{className:"card-body"},c.a.createElement("ul",{className:"tags"},a&&a.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(te.b,{to:{pathname:"/blogs/all",search:De.a.stringify({tag:e.id})},className:"tag"},e.area))})))))},_t=Object(i.j)((function(e){ye().request;var t=Object(n.useState)(null),a=Object(s.a)(t,2),l=a[0],r=(a[1],Object(n.useState)(!1)),o=Object(s.a)(r,2),m=o[0],d=o[1];return c.a.createElement(i.c,{history:u},c.a.createElement(he,{title:"Top blogs written by the best lawyers",description:"Understand your legal advice now. Enjoy reading a list of the blogs written by the best lawyers from all across the country."}),c.a.createElement("div",{class:"breadcrumb-bar"},c.a.createElement("div",{class:"container-fluid"},c.a.createElement("div",{class:"row align-items-center"},c.a.createElement("div",{class:"col-md-12 col-12"},c.a.createElement("nav",{"aria-label":"breadcrumb",class:"page-breadcrumb"},c.a.createElement("ol",{class:"breadcrumb"},c.a.createElement("li",{class:"breadcrumb-item"},c.a.createElement("a",{href:"/"},"Home")),c.a.createElement("li",{class:"breadcrumb-item active"},"Blog"))),c.a.createElement("h2",{class:"breadcrumb-title"},"Blog List"))))),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-lg-8 col-md-12"},c.a.createElement(i.d,{history:u},c.a.createElement(i.b,{exact:!0,path:"/blogs"},c.a.createElement(i.a,{replace:!0,to:"blogs/all"})),c.a.createElement(i.b,{path:"/blogs/blog/:blogId",component:Ze}),c.a.createElement(i.b,{path:"/blogs",render:function(e){return c.a.createElement(vt,Object.assign({},e,{blogs:l,isLoading:m,setIsLoading:d}))}}))),c.a.createElement("div",{className:"col-lg-4 col-md-12 sidebar-right theiaStickySidebar"},c.a.createElement(Xe.a,{offsetTop:85,offsetBottom:20},c.a.createElement(yt,null),c.a.createElement(Nt,null),c.a.createElement(jt,null)))))))})),kt=function(e){var t,a=Object(o.a)({},e).match,l=Object(n.useState)({newPassword:"",passwordConfirm:""}),r=Object(s.a)(l,2),i=r[0],m=r[1],f=G(T),b=Object(s.a)(f,3),E=b[0],p=b[2],g=Object(n.useState)(!1),h=Object(s.a)(g,2),v=h[0],N=h[1],O=ye().request,j=function(e){var t=e.target,a=t.name,n=t.value,c=Object(o.a)(Object(o.a)({},i),{},Object(y.a)({},a,n));m(c),p(c,a),"newPassword"===a&&""!==c.passwordConfirm&&(p(c,"passwordConfirm"),p(c,"newPassword"))};return c.a.createElement("div",{className:"align-items-center justify-content-center m-1"},c.a.createElement("div",{className:"m-3"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(i).then(function(){var e=Object(U.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(N(!0),console.log("safe"),O({url:"/account/reset-password/".concat(a.params.Token),method:"POST",data:{new_password:i.newPassword}}).then((function(e){d.b.success("Password Reset successfuly"),u.replace("/home")})).catch((function(e){})).finally((function(){N(!1)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},c.a.createElement("div",{className:"from-row"},c.a.createElement(w,{placeholder:"New Password",name:"newPassword",value:i.newPassword,type:"password",errors:E.newPassword,OnChangeHandler:j})),c.a.createElement("div",{className:"from-row"},c.a.createElement(w,{placeholder:"Re-Enter Password",name:"passwordConfirm",value:i.passwordConfirm,type:"password",errors:E.passwordConfirm,OnChangeHandler:j})),c.a.createElement("div",{className:"form-row"},c.a.createElement("button",(t={type:"submit",className:"btn btn-primary btn-block btn-lg login-btn "+(v?"cursor-not-allowed":"")},Object(y.a)(t,"type","submit"),Object(y.a)(t,"disabled",v),t),v&&c.a.createElement($.w,{className:"icon-spin"}),"\xa0",v?"":"Save")))))},xt=function(e){return c.a.createElement("div",{className:"content",style:{backgroundColor:"#ffffff"}},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8 offset-md-2"},c.a.createElement("div",{className:"account-content"},c.a.createElement("div",{className:"row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-md-7 col-lg-6 login-left"},c.a.createElement("img",{src:"/undraw_dev_productivity_umsq.svg",className:"img-fluid",alt:"Fogot Password"})),c.a.createElement("div",{className:"col-md-12 col-lg-6 login-right"},c.a.createElement(kt,e))))))))},St=a(83),Ct=a(19),Tt=function(){var e={account:{name:"",surname:"",phone:"",profile_picture:null},lawyer_type:{type:""},ratings_average:0},t=Object(n.useState)(e),a=Object(s.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(e.account),i=Object(s.a)(o,2),m=i[0],u=i[1],d=ye(),f=d.request,b=d.Logout,E=Object(n.useContext)(Mn);return Object(n.useEffect)((function(){E.setLoadingOverlayText("Loading..."),E.setIsLoadingOverlayShown(!0),f({url:"/lawyer/me",method:"GET"}).then((function(e){r(e.lawyer),u(e.lawyer.account),E.setIsLoadingOverlayShown(!1)})).catch((function(e){}))}),[]),c.a.createElement("div",{className:"profile-sidebar"},c.a.createElement("div",{className:"widget-profile pro-widget-content"},c.a.createElement("div",{className:"profile-info-widget"},c.a.createElement("a",{className:"booking-doc-img"},c.a.createElement(O,{src:m.profile_picture,alt:"Lawyer's Photo",overwrite:!1})),c.a.createElement("div",{className:"profile-det-info"},c.a.createElement("h3",null,m.full_name?"".concat(m.full_name):"loading..."),c.a.createElement("div",{className:"client-details"},c.a.createElement("h5",{className:"mb-0"},l.lawyer_type?l.lawyer_type.type:""),c.a.createElement(xe.a,{rating:l.ratings_average,starRatedColor:"gold",starDimension:"20px",starSpacing:"0px",numberOfStars:5,name:"rating"}))))),c.a.createElement("div",{className:"dashboard-widget"},c.a.createElement(St.a,{className:"dashboard-menu"},c.a.createElement("div",{className:"dashboard-menu"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/status"},c.a.createElement("i",{className:"fas fa-columns"}),c.a.createElement("span",null," Dashboard"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/appointments"},c.a.createElement("i",{className:"fas fa-calendar-check"}),c.a.createElement("span",null,"Appointments"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/schedule"},c.a.createElement("i",{className:"fas fa-hourglass-start"}),c.a.createElement("span",null,"Schedule Timings"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/calendar"},c.a.createElement("i",{className:"fas fa-calendar"}),c.a.createElement("span",null,"Calendar"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/reviews"},c.a.createElement("i",{className:"fas fa-star"}),c.a.createElement("span",null,"Reviews"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/blogs"},c.a.createElement("i",{className:"fas fa-edit"}),c.a.createElement("span",null,"Blogs"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{replace:!1,exact:!0,to:"/dashboard/chat"},c.a.createElement("i",{className:"fas fa-comments"}),c.a.createElement("span",null,"Messages"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/settings"},c.a.createElement("i",{className:"fas fa-user-cog"}),c.a.createElement("span",null,"Profile Settings"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/change-password"},c.a.createElement("i",{className:"fas fa-lock"}),c.a.createElement("span",null,"Change Password"))),c.a.createElement("li",null,c.a.createElement("a",{href:"#",onClick:b},c.a.createElement("i",{className:"fas fa-sign-out-alt"}),c.a.createElement("span",null,"Logout"))))))))},Lt=function(){var e=ye().request,t=Object(n.useState)({oldPassword:"",newPassword:"",passwordConfirm:""}),a=Object(s.a)(t,2),l=a[0],r=a[1],i=G(L),m=Object(s.a)(i,3),u=m[0],f=m[2],b=Object(n.useState)(!1),E=Object(s.a)(b,2),p=E[0],g=E[1],h=function(e){var t=e.target,a=t.name,n=t.value,c=Object(o.a)(Object(o.a)({},l),{},Object(y.a)({},a,n));r(c),f(c,a)};return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),f(l).then(function(){var t=Object(U.a)(z.a.mark((function t(a,n){var c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a||(g(!0),c={new_password:l.newPassword,old_password:l.oldPassword},console.log("safe"),e({url:"/account/update-password",method:"POST",data:c}).then((function(e){d.b.success("Password changed successfuly")})).catch((function(e){})).finally((function(){g(!1)})));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"Old Password",name:"oldPassword",value:l.oldPassword,type:"password",errors:u.oldPassword,OnChangeHandler:h})),c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"New Password",name:"newPassword",value:l.newPassword,type:"password",errors:u.newPassword,OnChangeHandler:h})),c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"Confirm New Password",name:"passwordConfirm",value:l.passwordConfirm,type:"password",errors:u.passwordConfirm,OnChangeHandler:h})),c.a.createElement("div",{className:"submit-section"},c.a.createElement(Q,{type:"submit",className:"btn btn-primary submit-btn",loading:p},"Save Changes")))))},Pt=function(){var e=Object(n.useState)({name:"",surname:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",country:"",profile_picture_url:"",profile_picture:null}),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),m=i[0],u=i[1],f=G(M),b=Object(s.a)(f,3),E=b[0],p=b[2],g=ye().request;Object(n.useEffect)((function(){g({url:"account/personal-info",method:"GET"}).then((function(e){l(Object(o.a)(Object(o.a)({},e.profile_data),{},{profile_picture_url:e.profile_data.profile_picture,profile_picture:null}))})).catch((function(e){}))}),[]);var h=function(e){var t=e.target.name,n=Object(o.a)(Object(o.a)({},a),{},Object(y.a)({},t,e.target.value));l(n),p(n,t)};return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(a).then(function(){var e=Object(U.a)(z.a.mark((function e(t,n){var c,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(u(!0),g({url:"account/personal-info",method:"POST",data:a}).then((function(e){return g({url:"account/update-address",method:"POST",data:a})})).then((function(e){u(!1),d.b.success("Profile updated successfully!")})).catch((function(e){d.b.error("An error occurred")})),null!==a.profile_picture&&(c=new FormData,l=a.profile_picture,c.append("profile_picture",l),g({url:"account/upload-profile-picture",method:"POST",data:c}).then((function(e){})).catch((function(e){}))));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},c.a.createElement("div",{className:"row form-row"},c.a.createElement("div",{className:"col-12 col-md-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"change-avatar"},c.a.createElement("div",{className:"mr-3"},c.a.createElement(ie,{src:a.profile_picture_url,alt:"User",diameter:100})),c.a.createElement("div",{className:"upload-img"},c.a.createElement("div",{className:"change-photo-btn"},c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-upload"})," Upload Photo"),c.a.createElement("input",{name:"profile",type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif",onChange:function(e){var t=e.target;if(t.files&&t.files[0]){console.log(e.target.files[0].size/Math.pow(1024,2));var n=new FileReader;n.onload=function(e){var n=Object(o.a)(Object(o.a)({},a),{},{profile_picture_url:e.target.result,profile_picture:t.files[0]});l(n),p(n,e.target.name)},n.readAsDataURL(t.files[0])}},className:"upload"})),c.a.createElement("small",{className:"form-text text-muted"},"Allowed JPG, GIF or PNG. Max size of 2MB")))),E.profile&&E.profile.length>0&&c.a.createElement("label",{className:"text-danger ml-2 font-weight-light text-xs"},E.profile[0])),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"First Name",name:"name",value:a.name,type:"text",errors:E.name,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"Last Name",name:"surname",value:a.surname,type:"text",errors:E.surname,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"Telephone Number",name:"phone",value:a.phone,type:"text",errors:E.phone,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"Address",name:"address",value:a.address,type:"text",errors:E.address,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"City",name:"city",value:a.city,type:"text",errors:E.city,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"State",name:"state",value:a.state,type:"text",errors:E.state,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"Zip Code",name:"zip_code",value:a.zip_code,type:"text",errors:E.zip_code,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{placeholder:"Country",name:"country",value:a.country,type:"text",errors:E.country,OnChangeHandler:h}))),c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"submit-section w-100"},c.a.createElement("button",{type:"submit",disabled:m,className:"btn btn-primary submit-btn btn-block float-right"+(m?"cursor-not-allowed":"")},m&&c.a.createElement($.w,{className:"icon-spin"}),c.a.createElement("span",null,"\xa0",m?"":"Update profile"))))))},It=a(134),At=function(e){var t=e.errors,a=void 0===t?[]:t,n=e.placeholder,l=e.value,r=e.name,o=e.OnChangeHandler,s=e.options,i=e.searchable,m=e.style,u=e.multi,d=void 0!==u&&u;"undefined"===typeof l?l=[]:d||(l=[l]);var f,b=[],E=Object(R.a)(s);try{for(E.s();!(f=E.n()).done;){var p,g=f.value,h=Object(R.a)(l);try{for(h.s();!(p=h.n()).done;){var v=p.value;if(g.value===v){b.push(g);break}}}catch(y){h.e(y)}finally{h.f()}}}catch(y){E.e(y)}finally{E.f()}return c.a.createElement("div",{className:m?"":"form-group"},c.a.createElement(je.a,{searchable:i,multi:d,name:r,className:"floating",values:b,style:m?null:{borderColor:"#dcdcdc",backgroundColor:"#ffffff",color:"#333",minHeight:"50px"},placeholder:n,options:s,onChange:function(e){if(d){var t=e.map((function(e){return e.value}));return o({name:r,values:t})}return 1===e.length?o({name:r,value:e[0].value}):o({name:r,value:null})}}),a.length>0&&c.a.createElement("label",{className:"text-danger ml-2 font-weight-light text-xs"},a[0]))},Dt=a(610),Ht=function(e){return c.a.createElement("div",{className:e.value&&""!==e.value?"form-group form-focus focused":"form-group form-focus",style:{height:"unset"}},e.children,c.a.createElement("label",{className:"focus-label"},e.label))},Mt=function(e){Object(It.a)(e);var t=ye().request,a=Object(n.useState)({type:0,other:"",regulatedBy:"",yearLicensed:"",education:"",graduation_year:"",course:"",practiceAreas:[],accreditations:[],languages:[],bio:""}),l=Object(s.a)(a,2),r=l[0],i=l[1],m=G(I),f=Object(s.a)(m,3),b=f[0],E=f[1],p=f[2],g=Object(n.useState)([]),h=Object(s.a)(g,2),v=h[0],N=h[1],O=Object(n.useState)([]),j=Object(s.a)(O,2),_=j[0],k=j[1],x=Object(n.useState)([]),S=Object(s.a)(x,2),C=S[0],T=S[1],L=Object(n.useState)(!1),P=Object(s.a)(L,2),A=P[0],D=P[1],H=Object(n.useState)(!1),M=Object(s.a)(H,2),q=M[0],F=M[1];Object(n.useEffect)((function(){u.location.state&&u.location.state.showAlert&&D(!0),t({url:"lawyer/types",method:"GET"}).then((function(e){var a=e.types.map((function(e,t){return{label:e.type,value:e.id,name:"type"}}));return a.push({label:"Other",value:0,name:"type"}),N(a),t({url:"lawyer/practice-areas",method:"GET"})})).then((function(e){var a=e.areas.map((function(e,t){return{label:e.area,value:e.id,name:"practiceAreas"}}));return T(a),t({url:"lawyer/accreditations",method:"GET"})})).then((function(e){var a=e.accreditations.map((function(e,t){return{label:e.accreditation,value:e.id,name:"accreditations"}}));return k(a),t({url:"lawyer/me",method:"GET"})})).then((function(e){var t={type:0,other:"",regulatedBy:"",yearLicensed:"",education:"",graduation_year:"",course:"",practiceAreas:[],accreditations:[],languages:[],bio:""},a=e.lawyer;t.type=a.lawyer_type_id?a.lawyer_type_id:0,a.lawyer_type_id>2&&(t.type=0,t.other=a.lawyer_type.type),t.regulatedBy=a.regulator.regulator,t.yearLicensed=a.years_licenced,t.education=a.institution,t.graduation_year=a.graduation_year,t.course=a.course,t.languages=a.languages,t.practiceAreas=a.practice_areas.map((function(e,t){return e.id})),t.accreditations=a.accreditations.map((function(e,t){return e.id})),t.bio=a.biography,i(t),p(t)})).catch((function(e){}))}),[]);var R=function(e){var t=e.target,a=t.value,n=t.name;console.log(n,a[0]);var c=Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},n,a));i(c),console.log(r),console.log("Validating: ",n," with: ",c),p(c,n)},B=function(e){var t=e.name,a=e.values;console.log(t,a);var n=Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t,a));i(n),p(n,t)};return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(r).then(function(){var e=Object(U.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:F(!0),n={lawyer_type_id:r.type,lawyer_type:r.other,regulator:r.regulatedBy,years_licenced:r.yearLicensed,institution:r.education,graduation_year:r.graduation_year,course:r.course,practice_areas:r.practiceAreas,accreditations:r.accreditations,languages:r.languages,biography:r.bio},t({url:"lawyer/me",method:"POST",data:n}).then((function(e){d.b.success("Profile updated successfully")})).catch((function(e){var t=e.response.data.errors;console.log(Object(o.a)({},e));var a=[];for(var n in t)a.push(n);console.log(t),E(a,t)})).finally((function(){F(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},id:"regForm"},A&&c.a.createElement(Dt.a,{variant:"danger",onClose:function(){return D(!1)},dismissible:!0},c.a.createElement(Dt.a.Heading,null,"Warning!"),c.a.createElement("p",null,"Please fill all your lawyer info and provide a schedule to be listed")),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6"},c.a.createElement(At,{name:"type",errors:b.type?b.type:b.lawyer_type,value:r.type,placeholder:"Select type..",options:v,OnChangeHandler:function(e){var t=e.name,a=e.value,n=Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t,a));i(n),p(n,t),p(n,"other")}})),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6"},c.a.createElement(w,{disabled:0!==r.type,errors:b.other?b.other:b.lawyer_type,type:"text",name:"other",placeholder:"Other..",value:r.other,OnChangeHandler:R}))),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3"},c.a.createElement(w,{type:"text",name:"yearLicensed",errors:b.years_licenced,value:r.yearLicensed,OnChangeHandler:R,placeholder:"Year licensed"})),c.a.createElement("div",{className:"col-lg-9 col-md-9 col-sm-9"},c.a.createElement(w,{type:"text",errors:b.regulator,name:"regulatedBy",value:r.regulatedBy,OnChangeHandler:R,placeholder:"Regulated by"}))),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-8"},c.a.createElement(w,{type:"text",errors:b.institution,name:"education",value:r.education,OnChangeHandler:R,placeholder:"Institution"})),c.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-2"},c.a.createElement(w,{type:"text",errors:b.graduation_year,name:"graduation_year",value:r.graduation_year,OnChangeHandler:R,placeholder:"Graduation year"})),c.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-2"},c.a.createElement(w,{type:"text",name:"course",errors:b.course,value:r.course,OnChangeHandler:R,placeholder:"Course Name"}))),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},c.a.createElement(At,{multi:!0,errors:b.practiceAreas,name:"practiceAreas",className:"floating",value:r.practiceAreas,placeholder:"Select practice areas",options:C,OnChangeHandler:B})),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},c.a.createElement(At,{multi:!0,errors:b.accreditations,name:"accreditations",className:"floating",value:r.accreditations,placeholder:"Select accreditations",options:_,OnChangeHandler:B}))),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},c.a.createElement(Ht,{value:r.bio,label:"Bio.."},c.a.createElement("textarea",{className:"form-control",name:"bio",style:{minHeight:"100px"},form:"regForm",value:r.bio,onChange:R}))),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},c.a.createElement(Ht,{value:r.languages,label:"Languages (one per line)"},c.a.createElement("textarea",{className:"form-control",name:"bio",style:{minHeight:"100px"},form:"regForm",value:r.languages.join("\n"),onChange:function(e){i(Object(o.a)(Object(o.a)({},r),{},{languages:e.target.value.split("\n")}))}})))),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement(Q,{className:"btn btn-primary btn-block btn-lg login-btn ",type:"submit",loading:q},"\xa0Save"))))},qt=function(){return c.a.createElement(Mt,null)},Ft=function(e){var t=e.email,a=Object(n.useState)({email:t||""}),l=Object(s.a)(a,2),r=l[0],i=l[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),f=u[0],b=u[1],E=G(P),p=Object(s.a)(E,3),g=p[0],h=p[1],v=p[2],y=ye().request;Object(n.useEffect)((function(){y({url:"account/personal-info",method:"GET"}).then((function(e){i(Object(o.a)(Object(o.a)({},e.profile_data),{},{profile_picture_url:e.profile_data.profile_picture}))})).catch((function(e){}))}),[]);return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v(r).then(function(){var e=Object(U.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(b(!0),y({url:"account/update-email",method:"POST",data:r}).then((function(e){d.b.info("Email updated successfully, please verify the email in order to complete the update")})).catch((function(e){422===e.response.status&&h(["email"],{email:["Email is taken"]})})).finally((function(){b(!1)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},c.a.createElement("div",{className:"row form-row"},c.a.createElement("div",{className:"col-12 col-md-9"},c.a.createElement(w,{placeholder:"Email",name:"email",value:r.email,type:"text",errors:g.email,OnChangeHandler:function(e){var t={email:e.target.value};i(t),v(t,"email")}})),c.a.createElement("div",{className:"col-12 col-md-3"},c.a.createElement("div",{className:"submit-section w-100"},c.a.createElement("button",{type:"submit",disabled:f,className:"btn btn-primary btn-block submit-btn float-right"+(f?"cursor-not-allowed":"")},f&&c.a.createElement($.w,{className:"icon-spin"}),c.a.createElement("span",null,"\xa0",f?"":"Update email"))))))},Rt=(a(152),function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),i=o[0],m=o[1],u=ye().request;return Object(n.useEffect)((function(){u({url:"lawyer/stripe-connect",method:"GET"}).then((function(e){l(e.connection_link),m(e.is_connected)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,"Stripe account status: "),c.a.createElement("span",{className:"badge badge-pill text-uppercase badge-"+(i?"success":"danger")},i?"Connected":"Not connected"),c.a.createElement("br",null),c.a.createElement("br",null),null!==a&&c.a.createElement("a",{target:"_blank",href:a},c.a.createElement("img",{src:"/stripe-connect-button.png",style:{maxWidth:"100%",maxHeight:"40px"}})))}),Gt=function(){return c.a.createElement(i.c,{history:u},c.a.createElement(he,{title:"Edit profile | Lawbe.co.uk",description:"Edit your profile | Lawbe.co.uk"}),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body pt-0"},c.a.createElement("div",{className:"user-tabs mb-4"},c.a.createElement("ul",{className:"nav nav-tabs nav-tabs-bottom nav-justified",style:{width:"100%"}},c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/settings/basic-info"},"Basic")),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/settings/lawyer-info"},"Lawyer")),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/dashboard/settings/payment-settings"},"Payment settings")))),c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/dashboard/settings"},c.a.createElement(i.a,{replace:!0,to:"/dashboard/settings/lawyer-info"})),c.a.createElement(i.b,{path:"/dashboard/settings/basic-info"},c.a.createElement("div",null,c.a.createElement(Pt,null),c.a.createElement("hr",null),c.a.createElement(Ft,null))),c.a.createElement(i.b,{path:"/dashboard/settings/lawyer-info"},c.a.createElement(qt,null)),c.a.createElement(i.b,{path:"/dashboard/settings/payment-settings"},c.a.createElement(Rt,null))))))},Bt=a(58),zt=function(e){var t=e.appointment,a=Object(o.a)({},t).client,l=Object(o.a)({},a).account,r=new Date(t.appointment_time),i=ye().request,m=r.toLocaleString("en-GB",{year:"numeric",month:"long",day:"numeric"}),u=r.toLocaleString("en-GB",{hour12:!0,hour:"numeric",minute:"numeric"}),f=Object(n.useState)(null),b=Object(s.a)(f,2);b[0],b[1];return c.a.createElement("div",{className:"appointment-list"},c.a.createElement("div",{className:"profile-info-widget"},c.a.createElement("div",{className:"client-pp"},c.a.createElement(ie,{src:l.profile_picture,diameter:155,alt:"User"})),c.a.createElement("div",{className:"profile-det-info"},c.a.createElement("h3",null,c.a.createElement("a",{href:"//"},l.name+" "+l.surname)),c.a.createElement("div",{className:"appointment-details"},c.a.createElement("span",{className:"detail"},c.a.createElement("i",{className:"far fa-calendar-alt"})," ",m+" at: "+u),c.a.createElement("span",{className:"detail"},c.a.createElement("i",{className:"far fa-clock"})," ",t.duration),c.a.createElement("span",{className:"detail"},c.a.createElement("i",{className:"fa fa-credit-card"})," ",t.currency_symbol+t.price),(l.cite||l.country)&&c.a.createElement("span",{className:"detail"},c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",(null!==l.city?l.city:"-")+", "+(null!==l.country?l.country:"-")),c.a.createElement("span",{className:"detail"},c.a.createElement("i",{className:"fas fa-envelope"})," ",l.email),c.a.createElement("span",{className:"detail"},c.a.createElement("i",{className:"fas fa-phone"})," ",l.phone)))),c.a.createElement("div",{className:"appointment-action"},t.can_be_started&&c.a.createElement(c.a.Fragment,null,c.a.createElement(te.b,{className:"btn btn-sm bg-success-light m-1",to:"/video/".concat(t.id)},c.a.createElement("i",{className:"fas fa-user"})," Join")),t.is_cancellable&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-sm bg-danger-light m-1",onClick:function(){var e;e=t.id,J.a.confirm({title:"This will cancel the appointment",message:"Are you sure you would like to cancel ?",callback:function(t){t&&i({url:"/appointment/".concat(e,"/cancel"),method:"POST"}).then((function(e){d.b.success("Appointment is cancelled"),window.location.reload()})).catch((function(e){d.b.error("Appointment couldn't be cancelled")}))}})}},c.a.createElement("i",{className:"fas fa-times"})," Cancel"))))},Ut=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/lawyer/appointments",method:"GET"}).then((function(e){l(e.appointments)})).catch((function(e){}))}),[]),c.a.createElement("div",{className:"appointments"},a&&a.length?a.map((function(e){return c.a.createElement(zt,{key:e.id,appointment:e})})):c.a.createElement(re,null,"There are no appointments yet"))},Yt=function(e){var t=e.appStatus,a=t.toLowerCase();switch(t){case"UPCOMING":return c.a.createElement("span",{className:"badge badge-pill text-uppercase bg-info-light"},a);case"DONE":return c.a.createElement("span",{className:"badge badge-pill text-uppercase bg-success-light"},a);case"CANCELLED":return c.a.createElement("span",{className:"badge badge-pill text-uppercase bg-danger-light"},a);case"ON_HOLD":return c.a.createElement("span",{className:"badge badge-pill text-uppercase bg-warning-light"},"ON HOLD");default:return c.a.createElement("span",{className:"badge badge-pill text-uppercase bg-light-light"},a)}},Wt=function(){var e=(new Date).toLocaleString("en-GB",{month:"long",day:"numeric",year:"numeric"}),t=Object(n.useState)(0),a=Object(s.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(0),i=Object(s.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(0),f=Object(s.a)(d,2),b=f[0],E=f[1],p=Object(n.useState)(null),g=Object(s.a)(p,2),h=g[0],v=g[1],y=ye().request;return Object(n.useEffect)((function(){y({url:"account/summary",method:"GET"}).then((function(e){console.log(e),r(e.clients_count),u(e.done_appointments_count),E(e.upcoming_appointments_count),v(e.next_appointment_date)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"card dash-card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-lg-4"},c.a.createElement("div",{className:"dash-widget dct-border-rht"},c.a.createElement("div",{className:"circle-bar circle-bar1"},c.a.createElement("div",{className:"circle-graph1","data-percent":"75"},c.a.createElement("div",{className:"img-fluid"},c.a.createElement($.y,null)))),c.a.createElement("div",{className:"dash-widget-info"},c.a.createElement("h6",null,"Total Clients"),c.a.createElement("h3",null,l),c.a.createElement("p",{className:"text-muted"},"Till today")))),c.a.createElement("div",{className:"col-md-12 col-lg-4"},c.a.createElement("div",{className:"dash-widget dct-border-rht"},c.a.createElement("div",{className:"circle-bar circle-bar2"},c.a.createElement("div",{className:"circle-graph2","data-percent":"65"},c.a.createElement("div",{className:"img-fluid"},c.a.createElement($.c,null)))),c.a.createElement("div",{className:"dash-widget-info"},c.a.createElement("h6",null,"Total appointments"),c.a.createElement("h3",null,m),c.a.createElement("p",{className:"text-muted"},e)))),c.a.createElement("div",{className:"col-md-12 col-lg-4"},c.a.createElement("div",{className:"dash-widget"},c.a.createElement("div",{className:"circle-bar circle-bar3"},c.a.createElement("div",{className:"circle-graph3","data-percent":"50"},c.a.createElement("div",{className:"img-fluid"},c.a.createElement($.s,null)))),c.a.createElement("div",{className:"dash-widget-info"},c.a.createElement("h6",null,"Upcoming appointments"),c.a.createElement("h3",null,b),null!==h&&c.a.createElement("p",{className:"text-muted"},"First on:\xa0",c.a.createElement("b",null,new Date(h).toLocaleString()))))))))},Vt=function(e){var t=e.appointment,a=Object(o.a)({},t).client,n=Object(o.a)({},a).account,l=new Date(t.appointment_time),r=l.toLocaleString("en-GB",{year:"numeric",month:"long",day:"numeric"}),s=l.toLocaleString("en-GB",{hour12:!0,hour:"numeric",minute:"numeric"}),i=ye().request;return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("h2",{className:"table-avatar"},c.a.createElement("a",{href:"#",className:"avatar avatar-sm mr-2"},c.a.createElement(O,{className:"avatar-img rounded-circle",src:n.profile_picture,alt:"User"})),c.a.createElement("a",{href:"#"},n.name+" "+n.surname,c.a.createElement("span",null,t.duration," Minutes")))),c.a.createElement("td",null,r,c.a.createElement("span",{className:"d-block text-info"},s)),c.a.createElement("td",{className:"text-center"},c.a.createElement(Yt,{appStatus:t.status})),c.a.createElement("td",{className:"text-center"},t.currency_symbol," ",t.price),c.a.createElement("td",{className:"text-right"},c.a.createElement("div",{className:"table-action"},t.can_be_started&&c.a.createElement(c.a.Fragment,null,c.a.createElement(te.b,{className:"btn btn-sm bg-success-light m-1",to:"/video/".concat(t.id)},c.a.createElement("i",{className:"fas fa-user"})," Join")),t.is_cancellable&&c.a.createElement("button",{className:"btn btn-sm bg-danger-light",onClick:function(){var e;e=t.id,J.a.confirm({title:"This will cancel the appointment",message:"Are you sure you would like to cancel ?",callback:function(t){t&&i({url:"/appointment/".concat(e,"/cancel"),method:"POST"}).then((function(e){d.b.success("Appointment is cancelled"),window.location.reload()})).catch((function(e){d.b.error("Appointment couldn't be cancelled")}))}})}},c.a.createElement("i",{className:"fas fa-times"})," Cancel"),c.a.createElement(te.b,{to:"".concat(u.location.pathname,"/details/").concat(t.id),className:"btn btn-sm bg-info-light"},c.a.createElement("i",{className:"far fa-eye"})," View"))))},Jt=function(e){return c.a.createElement("div",{className:"tab-pane show active",id:"upcoming-appointments"},c.a.createElement("div",{className:"card card-table mb-0"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-hover table-center mb-0",style:{backgroundColor:"white",display:"block"}},c.a.createElement("tbody",{style:{width:"100%",display:"table"}},c.a.createElement("tr",null,c.a.createElement("th",null,"Client Name"),c.a.createElement("th",null,"Appt Date"),c.a.createElement("th",null,"Status"),c.a.createElement("th",{className:"text-center"},"Paid Amount"),c.a.createElement("th",null)),e.children))))))},Kt=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/lawyer/appointments?upcoming=true",method:"GET"}).then((function(e){console.log(e),l(e.appointments)})).catch((function(){}))}),[]),c.a.createElement(Jt,null,a&&a.length?a.map((function(e){return c.a.createElement(Vt,{key:e.id,appointment:e})})):c.a.createElement(Zt,null,"no upcoming appointments"))},Zt=function(e){return c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"100%",style:{textAlign:"center",fontSize:"larger"}},e.children))},Xt=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/lawyer/appointments?upcoming=false",method:"GET"}).then((function(e){console.log(e),l(e.appointments)})).catch((function(){}))}),[]),c.a.createElement(Jt,null,a&&a.length?a.map((function(e){return c.a.createElement(Vt,{key:e.id,appointment:e})})):c.a.createElement(Zt,null,"You don't have any appointments yet"))},$t=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)({currency_symbol:"",total:0}),o=Object(s.a)(r,2),i=o[0],m=o[1],u=ye().request;return Object(n.useEffect)((function(){u({url:"/lawyer/done-appointments",method:"GET"}).then((function(e){console.log(e),l(e.appointments),m({total:e.total,currency_symbol:e.currency_symbol})})).catch((function(){}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Jt,null,a&&a.length?a.map((function(e){return c.a.createElement(Vt,{key:e.id,appointment:e})})):c.a.createElement(Zt,null,"You don't have any appointments yet"),c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"4"},c.a.createElement("div",{className:"d-block text-right text-lg font-weight-bold"},"Total: ",i.currency_symbol,i.total)))))},Qt=function(){var e="/dashboard/status";return c.a.createElement(i.c,{history:u},c.a.createElement("ul",{className:"nav nav-tabs nav-tabs-solid nav-tabs-rounded"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ct.a,{className:"nav-link",to:"".concat(e,"/upcoming")},"Upcoming")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ct.a,{className:"nav-link",to:"".concat(e,"/all")},"All")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ct.a,{className:"nav-link",to:"".concat(e,"/done")},"Done"))),c.a.createElement("div",{className:"tab-content"},c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"".concat(e,"/upcoming")},c.a.createElement(Kt,null)),c.a.createElement(i.b,{path:"".concat(e,"/all")},c.a.createElement(Xt,null)),c.a.createElement(i.b,{path:"".concat(e,"/done")},c.a.createElement($t,null)),c.a.createElement(i.b,{exact:!0,path:e},c.a.createElement(i.a,{to:"".concat(e,"/upcoming")})))))},ea=function(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement(Wt,null)),c.a.createElement("div",{className:"col-12"},c.a.createElement("h4",{className:"mb-4"},"Clients Appoinments"),c.a.createElement("div",{className:"appointment-tab"},c.a.createElement(Qt,null))))},ta=function(e){var t=e.comments;return c.a.createElement("div",{className:"lawyer-review review-listing"},c.a.createElement("ul",{className:"comments-list"},t&&t.length?t.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(aa,{comment:e,account:e.appointment.client.account}))})):c.a.createElement(re,null,"There are no reviews yet")))},aa=function(e){var t=e.comment,a=e.account,n=void 0===a?{}:a,l=g()(t.created_at).format("MMMM Do YYYY, hh:mm a");return c.a.createElement("div",{className:"comment"},c.a.createElement(O,{className:"avatar rounded-circle",alt:"User",src:n.profile_picture,overwrite:!1}),c.a.createElement("div",{className:"comment-body",style:{width:"100%"}},c.a.createElement("div",{className:"meta-data"},c.a.createElement("span",{className:"comment-author"},"".concat(n.name," ").concat(n.surname)),c.a.createElement("span",{className:"comment-date"},l),c.a.createElement("div",{className:"review-count rating"},c.a.createElement(xe.a,{rating:t.rating,starRatedColor:"gold",starDimension:"20px",starSpacing:"0px",numberOfStars:5,name:"rating"}))),t.rating>=3?c.a.createElement("p",{className:"recommended"},c.a.createElement("i",{className:"far fa-thumbs-up"})," I recommend this Lawyer"):c.a.createElement("p",{className:"not-recommended"},c.a.createElement("i",{className:"far fa-thumbs-down"})," I don't recommend this Lawyer"),c.a.createElement("p",{className:"comment-content"},t.comment)))},na=function(e){var t=e.lawyer,a=Object(n.useState)(null),l=Object(s.a)(a,2),r=l[0],o=l[1],i=ye().request;return Object(n.useEffect)((function(){t?o(t.ratings):i({url:"/lawyer/me",method:"GET"}).then((function(e){o(e.lawyer.ratings)})).catch((function(e){}))}),[]),c.a.createElement(ta,{comments:r})},ca=a(611),la=a(612),ra=a(261),oa=a.n(ra),sa=a(617),ia=a(618);var ma=function(e){Object(It.a)(e);var t=ye().request,a=Object(n.useState)(!1),l=Object(s.a)(a,2),r=l[0],i=l[1],m=Object(n.useState)(1),u=Object(s.a)(m,2),f=u[0],b=u[1],E=Object(n.useState)(0),p=Object(s.a)(E,2),h=p[0],v=p[1],N=Object(n.useState)([]),O=Object(s.a)(N,2),j=O[0],_=O[1],k=Object(n.useState)(!1),x=Object(s.a)(k,2),S=x[0],C=x[1],T=Object(n.useRef)(null),L=Object(n.useState)([{name:"Monday",slots:[]},{name:"Tuesday",slots:[]},{name:"Wednesday",slots:[]},{name:"Thursday",slots:[]},{name:"Friday",slots:[]},{name:"Saturday",slots:[]},{name:"Sunday",slots:[]}]),P=Object(s.a)(L,2),I=P[0],D=P[1],H=g()();H.minute(H.minute()-H.minute()%5);var M=Object(n.useState)({time:H,weekday:0,length:60}),q=Object(s.a)(M,2),F=q[0],B=q[1],z=Object(n.useState)({price:0,discount_type:0,discount_amount:0,discount_end:new Date}),U=Object(s.a)(z,2),Y=U[0],W=U[1],V=G(A),J=Object(s.a)(V,3),K=J[0],Z=J[2],X=Object(n.useState)(!1),ee=Object(s.a)(X,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){var e=Math.min(7,Math.max(1,.6*T.current.offsetWidth/100));b(e),t({url:"lawyer/schedule",method:"GET"}).then((function(e){for(var t=I.slice(),a=function(e,t){return"+"===e?(t+1)%7:"-"===e?(t+6)%7:t},n=0;n<e.schedule.length;++n)for(var c=e.schedule[n].slots,l=0;l<c.length;++l){var r=c[l],s=g.a.utc(r.time,"HH:mm").local(),i=g.a.utc(r.time,"HH:mm"),m=n;i.format(Ce.momentsjs_default_date_format)<s.format(Ce.momentsjs_default_date_format)?m=a("+",m):i.day(Ce.momentsjs_default_date_format)>s.format(Ce.momentsjs_default_date_format)&&(m=a("-",m)),t[m].slots.push(Object(o.a)(Object(o.a)({},r),{},{time:s,end_time:s.clone().add(r.length,"minutes")}))}D(t);var u={price:e.price_per_hour,discount_type:e.enable_discount?e.is_percent_discount?1:2:0,discount_amount:e.discount_amount,discount_end:null===e.discount_end?new Date:new Date(e.discount_end)};W(u)})).catch((function(e){console.debug(e)}))}),[]);var ne=function(e){var t=e.name,a=e.value;B(Object(o.a)(Object(o.a)({},F),{},Object(y.a)({},t,a)))},ce=function(e){var t=e.target,a=t.name,n=t.value;W(Object(o.a)(Object(o.a)({},Y),{},Object(y.a)({},a,n)))},le=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],l=a[1];return function(t){null===c?l(window.setTimeout((function(){l(null),window.clearTimeout(c)}),500)):(window.clearTimeout(c),l(null),e(t))}}((function(e){var t=e.currentTarget,a=t.dataset.day,n=t.dataset.slot,c=I.slice();c[a].slots.splice(n,1),D(c)}));return Object(n.useEffect)((function(){for(var e=[],t=0,a=h;t<f;a=(a+1)%7,t++)e.push(I[a]);_(e)}),[h,f,I]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Bt.a,{backdrop:"static",show:r,conatainer:T,onHide:function(){i(!1)}},c.a.createElement(Bt.a.Header,{closeButton:!0},c.a.createElement(Bt.a.Title,null,"Add Slot")),c.a.createElement(Bt.a.Body,null,c.a.createElement("div",{className:"p-3"},c.a.createElement("h4",{className:"text-center"}," Global appointment settings "),c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{type:"text",name:"price",value:Y.price,OnChangeHandler:ce,placeholder:"Price per hour",errors:K.price})),c.a.createElement("div",{className:"form-group"},c.a.createElement(ca.a,null,c.a.createElement(la.a,{className:"btn-sm",color:"info",onClick:function(){W(Object(o.a)(Object(o.a)({},Y),{},{discount_type:0}))},active:0===Y.discount_type},"No discount"),c.a.createElement(la.a,{className:"btn-sm",color:"info",onClick:function(){W(Object(o.a)(Object(o.a)({},Y),{},{discount_type:1}))},active:1===Y.discount_type},"Percent discount"),c.a.createElement(la.a,{className:"btn-sm",color:"info",onClick:function(){W(Object(o.a)(Object(o.a)({},Y),{},{discount_type:2}))},active:2===Y.discount_type},"Fixed discount"))),0!==Y.discount_type&&c.a.createElement("div",{className:"form-group"},c.a.createElement(w,{disabled:0===Y.discount_type,type:"text",name:"discount_amount",value:Y.discount_amount,OnChangeHandler:ce,placeholder:"Discount",errors:K.discount_amount})),0!==Y.discount_type&&c.a.createElement("div",{className:"form-group"},c.a.createElement(ft.a,{className:"form-control",placeholderText:"Available on",onChange:function(e){W(Object(o.a)(Object(o.a)({},Y),{},{discount_end:e}))},selected:Y.discount_end,showTimeSelect:!0,dateFormat:"Y-MM-dd HH:mm:ss"}),K.discount_end&&K.discount_end.length>0&&c.a.createElement("label",{className:"text-danger ml-2 font-weight-light text-xs"},K.discount_end[0])),c.a.createElement("hr",null),c.a.createElement("h4",{className:"text-center"},"Add appointment"),c.a.createElement("div",{className:"form-group"},c.a.createElement(At,{multi:!1,name:"weekday",className:"floating",value:F.weekday,placeholder:"Weekday",options:[{label:"Monday",value:0},{label:"Tuesday",value:1},{label:"Wednesday",value:2},{label:"Thursday",value:3},{label:"Friday",value:4},{label:"Saturday",value:5},{label:"Sunday",value:6}],OnChangeHandler:ne})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{className:"btn btn-dark btn-block",onClick:function(){ae(!te)}},c.a.createElement($.h,null),"\xa0",F.time.format("HH:mm")),te&&c.a.createElement("div",{className:"timepicker-container"},c.a.createElement(ua,{close:function(){ae(!1)}},c.a.createElement(oa.a,{style:{position:"absolute"},time:F.time.format("HH:mm"),hour24Mode:!0,forceCoarseMinutes:!0,onChange:function(e){var t=("0"+e.hour).slice(-2)+":"+e.minute;B(Object(o.a)(Object(o.a)({},F),{},{time:g()(t,"HH:mm")}))}})))),c.a.createElement("div",{className:"form-group"},c.a.createElement(At,{multi:!1,name:"length",className:"floating",value:F.length,placeholder:"Length (in minutes)",options:[{label:"30 minutes",value:30},{label:"45 minutes",value:45},{label:"60 minutes",value:60},{label:"90 minutes",value:90}],OnChangeHandler:ne})))),c.a.createElement(Bt.a.Footer,null,c.a.createElement("button",{className:"btn btn-dark",onClick:function(){i(!1)}},"Close"),c.a.createElement("button",{onClick:function(){!function(){var e,t=F.weekday,a=F.time.clone().add(F.length,"minutes"),n=Object(R.a)(I[t].slots);try{for(n.s();!(e=n.n()).done;){var c=e.value;if(F.time.isSameOrAfter(c.time)&&F.time.isSameOrBefore(c.end_time)||a.isSameOrAfter(c.time)&&a.isSameOrBefore(c.end_time))return void d.b.error("A slot is found within this time range")}}catch(o){n.e(o)}finally{n.f()}var l=I.slice(),r=Object.assign({end_time:a},F);l[t].slots.push(r),l[t].slots.sort((function(e,t){return e.time<t.time?-1:1})),D(l)}(),i(!1)},className:"btn btn-primary"},c.a.createElement($.a,null),"\xa0Add appointment"))),c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"row form-row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("span",{className:"text-muted p-2 float-left",style:{backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"5px",margin:"5px 0px 5px 0px"}},c.a.createElement($.h,null),"\xa0All times are shown in your local timezone ",c.a.createElement("strong",null,"(UTC",g()().format("Z"),")")),c.a.createElement("button",{className:"btn btn-sm btn-info float-right mb-1",onClick:function(){i(!r)}},c.a.createElement($.r,null),"\xa0Add slot"))),c.a.createElement("div",{className:"card booking-schedule"},c.a.createElement("div",{className:"schedule-header"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"day-slot"},c.a.createElement("div",{className:"row no-gutters",ref:T},c.a.createElement("div",{className:"col-1"},c.a.createElement("button",{className:"btn btn-link",onClick:function(){v((h+6)%7)}},c.a.createElement("i",{class:"fa fa-chevron-left"}))),j.map((function(e,t){return c.a.createElement("div",{className:"col",key:t},c.a.createElement("span",null,e.name))})),c.a.createElement("div",{className:"col-1"},c.a.createElement("button",{className:"btn btn-link",onClick:function(){v((h+1)%7)}},c.a.createElement("i",{class:"fa fa-chevron-right"})))))))),c.a.createElement("div",{className:"schedule-cont"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-1"}),j.map((function(e,t){return c.a.createElement("div",{className:"col",key:e.date},e.slots.map((function(e,a){var n,l=(n=e.length/60*Y.price,1===Y.discount_type?n-=n*(Y.discount_amount/100):n-=Y.discount_amount,n);return c.a.createElement(sa.a,{placement:"bottom",overlay:c.a.createElement(ia.a,null,c.a.createElement(ia.a.Title,{as:"h3",className:"text-center"},e.length," minutes"),c.a.createElement(ia.a.Content,null,c.a.createElement("span",{className:"slot-info-popover-body"},c.a.createElement("strong",null,"Price:"),"\xa0",l," GBP"),0!==Y.discount_type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"slot-info-popover-body"},c.a.createElement("strong",null,"Discount:"),"\xa0",Y.discount_amount," ",1===Y.discount_type?"%":"GBP"),c.a.createElement("span",{className:"slot-info-popover-body"},c.a.createElement("strong",null,"Discount end:"),"\xa0",Y.discount_end.toLocaleString())),c.a.createElement("span",{className:"slot-info-delete-notice text-xs text-info d-block text-center"},"Double click to delete this slot")))},c.a.createElement("button",{key:e.id,"data-day":t,"data-slot":a,className:"timing btn-block",onClick:le},c.a.createElement("span",null,e.time.format("HH:mm")," - ",e.end_time.format("HH:mm"))))})))})),c.a.createElement("div",{className:"col-1"})))),c.a.createElement("div",{className:"row form-row"},c.a.createElement("div",{className:"col"},c.a.createElement(Q,{loading:S,className:"btn btn-success float-right btn-block",onClick:function(){Z(Y).then((function(e){if(e)i(!0);else{C(!0);var a={schedule:{days:I.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{slots:e.slots.map((function(e){var t=Object(o.a)(Object(o.a)({},e),{},{time:e.time.format("HH:mm")});return delete t.end_time,t}))})})),settings:{price_per_hour:Y.price,enable_discount:0!==Y.discount_type,is_percent_discount:1===Y.discount_type,discount_amount:Y.discount_amount,discount_end:Y.discount_end,timezone:g()().format("Z")}}};t({url:"/lawyer/update-schedule",method:"POST",data:a}).then((function(e){d.b.success("Schedule saved successfully")})).catch((function(e){console.debug(e)})).finally((function(){C(!1)}))}}))}},c.a.createElement($.u,null),"\xa0Save schedule"))))))};function ua(e){var t=e.children,a=e.close,l=Object(n.useRef)(null);function r(e){var t=l.current,n=e.target;if(document.contains(n))return t.contains(n)?void 0:a()}return Object(n.useEffect)((function(){return document.addEventListener("click",r,!1),function(){document.removeEventListener("click",r,!1)}}),[]),c.a.createElement("div",{ref:l,className:"fme",style:{display:"inline-block"}},t)}a(478);var da=function(e){var t=e.appointment;return c.a.createElement("div",{className:"test",onClick:function(){return u.push("".concat(u.location.pathname,"/details/").concat(t.id))}},c.a.createElement("b",null,g()(t.appointment_time).format("hh:mm a"))," for"," ",c.a.createElement("b",null,t.duration)," minutes")},fa=function(){var e=g.a.weekdaysShort().map((function(e,t){return c.a.createElement("div",{className:"column col-center",key:t},e)}));return c.a.createElement("div",{className:"days row"},e)},ba=function(e){var t=e.currentDate,a=e.prevMonth,n=e.nextMonth;return c.a.createElement("div",{className:"header-calendar row flex-middle"},c.a.createElement("div",{className:"column col-start"},c.a.createElement("div",{className:"icon",onClick:a},c.a.createElement("i",{className:"fas fa-chevron-left mr-3 ml-2"})," ")),c.a.createElement("div",{className:"column col-center"},c.a.createElement("span",null,g()(t).format("MMMM YYYY"))),c.a.createElement("div",{className:"column col-end"},c.a.createElement("div",{className:"icon",onClick:n},c.a.createElement("i",{className:"fas fa-chevron-right mr-3 ml-2"}))))},Ea=function(e){for(var t=e.currentDate,a=e.onDateClick,n=e.selectedDate,l=e.appointments,r=g()(t).startOf("month").toDate(),o=g()(t).endOf("month").toDate(),s=g()(r).startOf("week").toDate(),i=g()(o).endOf("week").toDate(),m=[],u=[],d=s,f="";d<=i;){for(var b=function(e){f=g()(d).format("D");var o=d,s=null;g()(d).isSame(t,"month")&&null!==l&&(s=l[d.getDate()]),u.push(c.a.createElement("div",{className:"column cell ".concat(g()(d).isSame(n,"day")?"selected":g()(d).isSame(r,"month")?"":"disabled"),key:d.toISOString(),onClick:function(){return a(o)},id:g()(d).format("DD-MM-YYYY")},c.a.createElement("span",{className:"number",style:{zIndex:"0"}},f),c.a.createElement("span",{className:"bg",style:{zIndex:1}},f),c.a.createElement("div",{className:"fc w-100",style:{zIndex:"0"}},s&&s.map((function(e,t){return c.a.createElement(da,{appointment:e,key:t})}))))),d=g()(d).add(1,"d").toDate()},E=0;E<7;E++)b();m.push(c.a.createElement("div",{className:"row",key:d},u)),u=[]}return c.a.createElement("div",{className:"body"},m)},pa=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(new Date),o=Object(s.a)(r,2),i=o[0],m=o[1],u=Object(n.useState)(new Date),f=Object(s.a)(u,2),b=f[0],E=f[1],p=Object(n.useState)(null),h=Object(s.a)(p,2),v=h[0],y=h[1],N=ye().request,O=Object(n.useContext)(qn),w=Object(s.a)(O,1)[0];return Object(n.useEffect)((function(){var e=w.accountType;e?N({url:"/".concat(e.toLowerCase(),"/appointments"),method:"GET"}).then((function(e){l(e.appointments)})).catch((function(){d.b.error("An error occurred couldn't load appointments")})):d.b.error("An error occurred couldn't load appointments")}),[]),Object(n.useEffect)((function(){for(var e=new Array(g()(i).daysInMonth()+1),t=0;t<e.length;t++)e[t]=new Array;a.forEach((function(t){var a=new Date(t.appointment_time);if(g()(a).isSame(i,"month")){var n=a.getDate();e[n].push(t)}})),y(e)}),[i,a]),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body",style:{overflowY:"auto"}},c.a.createElement("div",{className:"calendar"},c.a.createElement("div",null,c.a.createElement(ba,{currentDate:i,prevMonth:function(){m(g()(i).subtract(1,"month").toDate())},nextMonth:function(){m(g()(i).add(1,"month").toDate())}})),c.a.createElement("div",{style:{overflowX:"auto"}},c.a.createElement("div",{style:{minWidth:"750px"}},c.a.createElement(fa,null)),c.a.createElement("div",{style:{minWidth:"750px"}},c.a.createElement(Ea,{currentDate:i,onDateClick:function(e){console.log(e),E(e)},selectedDate:b,appointments:v}))))))))},ga={backgroundColor:"#2c2c2c",padding:"5px",textAlign:"center",width:"100%",height:"60px"},ha={background:"transparent",borderColor:"transparent"},va=function(e){var t=e.md_content,a=e.md_preview,l=e.blog,r=e.onContentChange,o=["\n# This is a header\n## This is a sub header\nThis is **bold**,  _italic_ and ~~strikethrough text~~.\n\n> Blockquote\n\n| Table| header|\n|--|--|\n| content| here|\n## ordered list\n 1. item 1\n 2. item 2\n 3. item 3\n ## unordered list\n - item 1\n - item 2\n - item 3\n## check list\n - [ ] item 1\n - [x] item 2 _checked_\n - [ ] item 3\n\n"],s=new Ee.a,i=new Ee.a;Object(n.useEffect)((function(){s.openFile({name:"blog post",content:{text:l?l.body:o[0]}},!0),s.on("fileChange",(function(e){a.current&&(a.current.innerHTML=e.content.html)}))}),[]);var m=function(){i.openFile({name:"blog post",content:{text:t.current.value,html:a.current.innerHTML}})};return i.on("fileChange",(function(e){t.current.value=e.content.text,a.current.innerHTML=e.content.html,r(t.current.value)})),c.a.createElement("div",null,c.a.createElement("div",{style:ga,onClick:m},c.a.createElement("button",{className:"btn btn-primary",style:ha,onClick:m},c.a.createElement($.o,null),"\xa0Edit content"),c.a.createElement("textarea",Object(y.a)({className:"form-control",style:{height:"800px"},value:l?l.body:o[0],ref:t},"style",{visibility:"hidden"}))),c.a.createElement("div",{className:"p-4",style:{backgroundColor:"white"},id:"md-preview",ref:a}))},ya=function(e){var t=e.match,a=e.setIsEditting,l=Object(n.useState)({cover:"",coverFile:""}),r=Object(s.a)(l,2),i=r[0],m=r[1],f=Object(n.useState)(""),b=Object(s.a)(f,2),E=b[0],p=b[1],g=ye().request,h=Object(n.useState)([]),v=Object(s.a)(h,2),y=v[0],N=v[1],O=Object(n.useState)(null),j=Object(s.a)(O,2),_=j[0],k=j[1],x=G(D),S=Object(s.a)(x,3),C=S[0],T=S[2],L=Object(n.useRef)(null),P=Object(n.useRef)(null),I=Object(n.useState)(null),A=Object(s.a)(I,2),H=A[0],M=A[1],q=Object(n.useState)(""),F=Object(s.a)(q,2),R=F[0],B=F[1],Y=Object(n.useState)(!1),W=Object(s.a)(Y,2),V=W[0],K=W[1],Z=(new Date).toLocaleString("en-GB",{year:"numeric",month:"long",day:"numeric"});Object(n.useEffect)((function(){t.params.blogId?(a(!0),g({url:"/blogs/my/".concat(t.params.blogId),method:"GET"}).then((function(e){M(e.blog),p(e.blog.title),k(e.blog.tag.id),m(Object(o.a)(Object(o.a)({},i),{},{cover:e.blog.cover_photo_link}))})).catch((function(e){console.error("Error occurred loading blog post")}))):a(!1),g({url:"lawyer/practice-areas",method:"GET"}).then((function(e){var t=e.areas.map((function(e,t){return{label:e.area,value:e.id}}));N(t)})).catch((function(e){console.log(e)}))}),[]);var X=function(){var e=Object(U.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),T({title:E,tags:_}).then(function(){var e=Object(U.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,a),t||J.a.confirm({title:"Continue",message:"This will put the blog to be reviewed by our admins, You will be notified once it's approved and published.",callback:function(e){e&&(K(!0),g({url:H?"/blogs/edit/".concat(H.id):"/blogs/add",method:"POST",data:{title:E,body:R,tag_id:_}}).then((function(e){var t=e.blog.id,a=new FormData;M(e.blog),a.append("cover_photo",i.coverFile),""!==i.coverFile?(g({url:"/blogs/".concat(t,"/upload-cover"),method:"POST",data:a}).then((function(){d.b.success("Submitted successfully, you'll be redirected to edit")})).catch((function(){d.b.error("An error has occurred Uploading blog cover, you'll be redirected to edit")})),u.replace("/dashboard/blogs/edit-blog/".concat(t))):(d.b.success("Submitted successfully, you'll be redirected to edit"),u.replace("/dashboard/blogs/edit-blog/".concat(t)))})).catch((function(){d.b.error("An error has occurred")})).finally((function(){K(!1)})))}}),C.tags&&d.b.error(C.tags[0]),C.title&&d.b.error(C.title[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"blog blog-single-post"},c.a.createElement("div",{className:"blog-image"},c.a.createElement(le,{alt:"Cover",src:i.cover,className:"img-fluid",style:{maxHeight:"200px",maxWidth:"100%",width:"unset",margin:"auto"}})),c.a.createElement("div",{className:"blog-title",style:{padding:"3px"}},c.a.createElement(w,{placeholder:"Title..",type:"text",OnChangeHandler:function(e){var t=e.target.value;return p(t)},value:E})),c.a.createElement("div",{className:"blog-info clearfix"},c.a.createElement("div",{className:"post-left"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("div",{className:"post-author"},c.a.createElement("div",{className:"change-photo-btn"},c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-upload"})," Upload Photo"),c.a.createElement("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif",onChange:function(e){var t=e.target;if(t.files&&t.files[0]){var a=new FileReader;a.onload=function(e){m({cover:e.target.result,coverFile:t.files[0]})},a.readAsDataURL(t.files[0])}},className:"upload"})))),c.a.createElement("li",null,c.a.createElement("i",{className:"far fa-calendar"}),Z),c.a.createElement("li",{style:{display:"contents"}},c.a.createElement("i",{className:"fa fa-tags"})," ",c.a.createElement(At,{options:y,searchable:!0,value:_,style:!0,name:"area_id",OnChangeHandler:function(e){k(e.value)}}))))),c.a.createElement("div",{className:"blog-content"},t.params.blogId?H&&c.a.createElement(va,{md_content:P,md_preview:L,onContentChange:function(e){B(e)},blog:H}):c.a.createElement(va,{md_content:P,md_preview:L,onContentChange:function(e){B(e)}})),c.a.createElement(Q,{className:"btn btn-primary",onClick:X,loading:V},"Submit blog for review"))},Na=function(e){var t=e.setIsEditting,a=Object(n.useState)(null),l=Object(s.a)(a,2),r=l[0],o=l[1],i=ye().request;return Object(n.useEffect)((function(){t(!1),i({url:"/blogs/mine",method:"GET"}).then((function(e){console.log(e),o(e.blogs)})).catch((function(){}))}),[]),r&&c.a.createElement(de,{blogs:r,editable:!0,col:4})},Oa=function(){var e="/dashboard/blogs",t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],r=a[1];return c.a.createElement(i.c,{history:u},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body pt-0"},c.a.createElement("div",{className:"user-tabs mb-4"},c.a.createElement("ul",{className:"nav nav-tabs nav-tabs-bottom nav-justified",style:{width:"100%"}},c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"".concat(e,"/my-blogs")},"My Blogs")),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"".concat(e,"/write-blog")},"Write Blog")),l&&c.a.createElement("li",null,c.a.createElement(Ct.a,{to:"".concat(e,"/edit-blog/")},"Edit Blog")))),c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:e},c.a.createElement(i.a,{replace:!0,to:"".concat(e,"/my-blogs")})),c.a.createElement(i.b,{path:"".concat(e,"/my-blogs")},c.a.createElement(Na,{setIsEditting:r})),c.a.createElement(i.b,{key:"1",path:"".concat(e,"/edit-blog/:blogId"),render:function(e){return c.a.createElement(ya,Object.assign({},e,{setIsEditting:r}))}}),c.a.createElement(i.b,{key:"2",path:"".concat(e,"/write-blog"),render:function(e){return c.a.createElement(ya,Object.assign({},e,{setIsEditting:r}))}})))))},wa=(a(479),function(e){var t=e.chat_index,a=e.other_name,l=e.handleClick,r=Object(n.useState)(""),o=Object(s.a)(r,2),i=o[0],m=o[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),f=d[0],b=d[1],E=function(){window.innerWidth<=692?(b("#chat_list"),m("collapse")):(m(""),b(""))};return Object(n.useEffect)((function(){return window.addEventListener("resize",E),function(){return window.removeEventListener("resize",E)}})),c.a.createElement("div",{className:"media",onClick:function(){l(t)},"data-toggle":i,"data-target":f},c.a.createElement("div",{className:"media-body"},c.a.createElement("div",null,c.a.createElement("div",{className:"user-name"},a))))}),ja=function(e){var t=e.chats,a=e.onChatSelection;e.swipe;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"chat-users-list",style:{flex:"1 1 auto"}},c.a.createElement("div",{className:"chat-scroll",style:{height:"467px"}},t.map((function(e,t){return c.a.createElement(wa,{key:e.id,chat_index:t,other_name:e.account.full_name,handleClick:a})})))))},_a=a(262),ka=a.n(_a),xa=function(e){var t=e.isOutgoing,a=e.content,n=e.timestamp,l=e.type,r=void 0===l?"text":l,o=e.link,s=void 0===o?null:o,i=ye().request;return"text"===r?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"media "+(t?"sent":"received")},c.a.createElement("div",{className:"media-body"},c.a.createElement("div",{className:"msg-box"},c.a.createElement("div",null,c.a.createElement("p",null,a),c.a.createElement("ul",{className:"chat-msg-info"},c.a.createElement("li",null,c.a.createElement("div",{className:"chat-time"},c.a.createElement("span",null,g()(new Date(n)).format("h:m a D/M/Y")))))))))):"file"===r?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"media "+(t?"sent":"received")},c.a.createElement("div",{className:"media-body"},c.a.createElement("div",{className:"msg-box"},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){i({url:s,responseType:"arraybuffer"}).then((function(e){ka()(e,a)})).catch((function(e){console.log(e)}))},className:"btn btn-link"},c.a.createElement($.j,null),c.a.createElement("br",null),a))))))):void 0},Sa=function(e){var t=e.messages,a=e.user_id;return Object(n.useEffect)((function(){var e=document.getElementById("messages_container");e.scrollTop=e.scrollHeight}),[t]),Object(n.useEffect)((function(){var e=document.getElementById("messages_container");e.scrollTop=e.scrollHeight}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"chat-body"},c.a.createElement("div",{className:"chat-scroll",id:"messages_container"},c.a.createElement("ul",{className:"list-unstyled"},t.map((function(e,t){return"TEXT"===e.message_type?c.a.createElement(xa,{isOutgoing:a===e.sender_id,content:e.content,timestamp:e.created_at}):"FILE"===e.message_type?c.a.createElement(xa,{type:"file",link:e.link,isOutgoing:a===e.sender_id,content:e.content,timestamp:e.created_at}):void 0}))))))},Ca=function(e){var t=e.list_chats,a=void 0===t||t,l=e.initialSelectedChat,r=void 0===l?null:l,i=e.match,m=void 0===i?null:i,f=e.showContent,b=void 0!==f&&f,E=e.notify,p=e.url,g=void 0===p?"/chat":p,h=e.minHeight,v=void 0===h?"unset":h,y=Object(n.useRef)(null),N=Object(n.useState)(null),w=Object(s.a)(N,2),j=w[0],_=w[1],k=Object(n.useState)(""),x=Object(s.a)(k,2),S=x[0],C=x[1],T=Object(n.useState)(null),L=Object(s.a)(T,2),P=L[0],I=L[1],A=Object(n.useState)([]),D=Object(s.a)(A,2),M=D[0],q=D[1],F=Object(n.useState)(!1),R=Object(s.a)(F,2),B=R[0],z=R[1],U=Object(n.useState)(null),Y=Object(s.a)(U,2),W=Y[0],V=Y[1],J=G(H),K=Object(s.a)(J,3),Z=K[0],X=K[2],ee=Object(n.useRef)(null),te=Object(n.useContext)(Mn),ae=ye().request,ne=Object(n.useState)([]),ce=Object(s.a)(ne,2),le=ce[0],oe=ce[1];Object(n.useEffect)((function(){te.setLoadingOverlayText("Loading..."),te.setIsLoadingOverlayShown(!0),ae({url:"/chat/all",method:"GET"}).then((function(e){var t=e.me;V(t.id);var a=null,n=e.chats.map((function(e,n){e.id===r&&(a=n),null!==m&&m.params.chatId&&e.id===parseInt(m.params.chatId)&&(a=n);var c=e.participants[0].id==t.id?e.participants[1]:e.participants[0];return{id:e.id,account:c}}));oe(n),n.length>0&&_(null!==a?a:0)})).catch((function(e){console.log(e)})).finally((function(){te.setIsLoadingOverlayShown(!1)}))}),[r]),rt((function(){console.log("Loading"),ue()}),3e3);var se=Object(n.useContext)(Fn),ie=se.notificationsState,me=se.setNotificationsState;Object(n.useEffect)((function(){return console.log("Updating selected chat"),console.log(j),q([]),te.setLoadingOverlayText("Loading..."),te.setIsLoadingOverlayShown(!0),ue(!0),me(Object(o.a)(Object(o.a)({},ie),{},{shouldNotNotify:function(e){return"INCOMING_MESSAGE"===e.type&&e.notification_data.chat_id===le[j].id}})),function(){me(Object(o.a)(Object(o.a)({},ie),{},{shouldNotNotify:function(){return!1}}))}}),[j,le]);var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==j&&(e||!B)){var t=null,n=null;M.length>0&&!e&&(t=(n=M[M.length-1]).created_at),console.log("Clear"),z(!0);var c=le[j].id;ae({url:"/chat/".concat(c)+(null===t?"":"?since="+t),method:"GET"}).then((function(t){if(t.messages.length>0&&(q(e?t.messages:[].concat(Object(ct.a)(M),Object(ct.a)(t.messages))),t.messages.length>0)){var c=t.messages[t.messages.length-1];n&&!a&&n.content!==c.content&&W!==c.sender_id&&E()}})).catch((function(e){console.log(e)})).finally((function(){z(!1),te.setIsLoadingOverlayShown(!1)}))}},de=Object(n.useState)(!1),fe=Object(s.a)(de,2),be=fe[0],Ee=fe[1],pe=function(e){e.preventDefault();var t=le[j].id;if(Ee(!0),null===P)X({message:S}).then((function(e,a){if(e)return d.b.error(Z.message[0]),void Ee(!1);ae({url:"/chat/".concat(t),method:"POST",data:{content:S}}).then((function(e){ue(),C("")})).catch((function(e){console.log(e)})).finally((function(){Ee(!1),y.current.focus()}))}));else{var a=new FormData,n=P;a.append("file",n),ae({url:"/chat/".concat(t,"/file"),method:"POST",data:a}).then((function(e){ue(),C("")})).catch((function(e){d.b.error("The maximum file size is 2 MB")})).finally((function(){I(null),Ee(!1),y.current.focus()}))}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row no-gutters h-100"},a&&le.length||b?c.a.createElement(c.a.Fragment,null,a&&c.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 collapse show h-100 chat-left-menu",id:"chat_list"},c.a.createElement("div",{className:"chat-cont-left h-100 d-flex",style:{maxWidth:"100%",flexFlow:"column"}},c.a.createElement("div",{className:"chat-header",style:{flex:"0 1 auto"}},c.a.createElement("span",null,"Chats"),c.a.createElement("button",{className:"btn btn-link d-block d-md-none","data-toggle":"collapse","data-target":"#chat_list",role:"button"},c.a.createElement("i",{className:"fas fa-times"}))),c.a.createElement(ja,{chats:le,onChatSelection:function(e){u.replace("".concat(g,"/").concat(le[e].id)),_(e),"none"!==window.getComputedStyle(ee.current).display&&ee.current.click()}}))),c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"chat-cont-right d-flex flex-column h-100",style:{maxWidth:"100%"}},c.a.createElement("div",{className:"chat-header",style:{flex:"0 1 auto"}},c.a.createElement("div",{className:"media"},a&&c.a.createElement("button",{ref:ee,className:"btn btn-link d-block d-md-none","data-toggle":"collapse","data-target":"#chat_list",role:"button"},c.a.createElement("i",{className:"fas fa-chevron-left"})),c.a.createElement("div",{className:"media-img-wrap"},c.a.createElement("div",{className:"avatar"},null!==j&&c.a.createElement(O,{src:le[j].account.profile_picture,alt:"User Image",className:"avatar-img rounded-circle"})))," ",c.a.createElement("div",{className:"media-body"},c.a.createElement("div",{className:"user-name"},null!==j&&le[j].account.full_name)))),c.a.createElement("div",{style:{flex:"1 1 auto",minHeight:v}},c.a.createElement(Sa,{messages:M,user_id:W,notify:E,showToast:!a,last_message:M.length>0?M[M.length-1]:null})),c.a.createElement("div",{className:"chat-footer",style:{flex:"0 1 auto"}},"                                    ",c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("div",{className:"btn-file btn"},c.a.createElement($.n,null),c.a.createElement("input",{type:"file",onChange:function(e){var t=e.target;I(t.files[0])}}))),c.a.createElement("input",{value:null===P?S:P.name,disabled:null!==P||be,onChange:function(e){C(e.target.value),X(e.target.value)},ref:y,type:"text",className:"input-msg-send form-control",placeholder:"Type something",autofocus:!0,onKeyPress:function(e){"Enter"===e.key&&pe(e)}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement(Q,{type:"button",className:"btn msg-send-btn",onClick:pe,loading:be},c.a.createElement("i",{className:"fab fa-telegram-plane"})))))))):c.a.createElement(re,{label:"Open a lawyer profile and send a message!"},"No chats available")))},Ta=function(){return c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/dashboard"},c.a.createElement(i.a,{replace:!0,to:"/dashboard/status"})),c.a.createElement(i.b,{path:"/dashboard/status"},c.a.createElement(ea,null)),c.a.createElement(i.b,{exact:!0,path:"/dashboard/appointments"},c.a.createElement(Ut,null)),c.a.createElement(i.b,{exact:!0,path:"/dashboard/schedule"},c.a.createElement(ma,null)),c.a.createElement(i.b,{path:"/dashboard/calendar"},c.a.createElement(pa,null)),c.a.createElement(i.b,{exact:!0,path:"/dashboard/reviews"},c.a.createElement(na,null)),c.a.createElement(i.b,{path:"/dashboard/blogs"},c.a.createElement(Oa,null)),c.a.createElement(i.b,{path:"/dashboard/chat/:chatId",render:function(e){return c.a.createElement(Ca,Object.assign({},e,{url:"/dashboard/chat",minHeight:"500px"}))}}),c.a.createElement(i.b,{path:"/dashboard/chat",render:function(e){return c.a.createElement(Ca,Object.assign({},e,{url:"/dashboard/chat",minHeight:"500px"}))}}),c.a.createElement(i.b,{path:"/dashboard/settings"},c.a.createElement(Gt,null)),c.a.createElement(i.b,{exact:!0,path:"/dashboard/change-password"},c.a.createElement(Lt,null)),c.a.createElement(i.b,{exact:!0,path:"/dashboard/logout"},c.a.createElement(i.a,{to:"/"})))},La=function(){return c.a.createElement(i.c,{history:u},c.a.createElement(he,{title:"Dashboard | Lawbe.co.uk",description:"Edit your profile | Lawbe.co.uk"}),c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-12 d-md-none"},c.a.createElement("button",{className:"btn btn-primary mb-2 sticky-top float-right btn-block","data-toggle":"collapse","data-target":"#dashboard_nav",style:{zIndex:0}},c.a.createElement($.b,null))),c.a.createElement("div",{className:"col-12 col-md-3 col-lg-3 collapse d-md-block",id:"dashboard_nav"},c.a.createElement(Xe.a,null,c.a.createElement(Tt,null))),c.a.createElement("div",{className:"col-12 col-md-9"},c.a.createElement("div",{className:"row h-100"},c.a.createElement("div",{className:"col-12"},c.a.createElement(Ta,null))))))},Pa=function(e){var t=e.lawyer_id,a=e.handleSelection,l=e.allow_booking,r=void 0===l||l,i=ye().request,m=Object(n.useContext)(Mn),u=Object(n.useState)(g()()),f=Object(s.a)(u,2),b=f[0],E=f[1],p=Object(n.useState)(null),h=Object(s.a)(p,2),v=h[0],y=h[1];Object(n.useEffect)((function(){var e=window.innerWidth,a=Math.min(7,Math.max(1,Math.floor(e/200)));console.log(a),i({url:"/lawyer/".concat(t,"/schedule"),method:"POST",data:{days_to_show:a,from:b.utc().format(Ce.momentsjs_default_date_format)}}).then((function(e){e.discount_type=e.enable_discount?e.is_percent_discount?1:2:0;for(var t=e.schedule.days,a=t.map((function(e){return{name:e.name,date:e.date,slots:[]}})),n=0;n<t.length;++n)for(var c=t[n].date,l=t[n].slots,r=0;r<l.length;++r){var s=l[r],i=g.a.utc(c+" "+s.time).local(),m=g.a.utc(c+" "+s.time),u=n;if(console.log(i),m.format(Ce.momentsjs_default_date_format)<i.format(Ce.momentsjs_default_date_format)?u++:m.format(Ce.momentsjs_default_date_format)>i.format(Ce.momentsjs_default_date_format)&&u--,u>=0&&u<t.length){var d=g.a.utc(c+" "+s.to).local();a[u].slots.push(Object(o.a)(Object(o.a)({},s),{},{time:i.format("HH:mm"),to:d.format("HH:mm")}))}}y(Object(o.a)(Object(o.a)({},e),{},{days:a}))})).catch((function(e){console.log(e)}))}),[b]);var N=Object(n.useState)([]),O=Object(s.a)(N,2),w=O[0],j=O[1],_=function(e){var t=parseInt(e);E(g()(b).add(t,"days"))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card booking-schedule"},c.a.createElement("div",{className:"schedule-header"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"day-slot"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-1"},c.a.createElement("button",{className:"btn btn-link",onClick:function(){_(-1)}},c.a.createElement("i",{class:"fa fa-chevron-left"}))),null!==v&&v.days.map((function(e,t){return c.a.createElement("div",{className:"col",key:e.date},c.a.createElement("span",{style:{fontSize:"14px",margin:"0px 10px 0px 10px"}},e.name),c.a.createElement("span",{class:"slot-date"},g()(e.date).format("D MMM Y")))})),c.a.createElement("div",{className:"col-1"},c.a.createElement("button",{className:"btn btn-link",onClick:function(){_(1)}},c.a.createElement("i",{class:"fa fa-chevron-right"})))))))),c.a.createElement("div",{className:"schedule-cont",style:{overflowY:"auto",maxHeight:"350px"}},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-1"}),null!==v&&v.days.map((function(e,t){return c.a.createElement("div",{className:"col",key:e.date},0===e.slots.length&&c.a.createElement("span",{className:"d-block text-center text-muted",style:{fontSize:"10px"}},"No slots"),e.slots.map((function(e,a){var n,l=(n=e.length/60*v.price_per_hour,1===v.discount_type?n-=n*(v.discount_amount/100):n-=v.discount_amount,n);return c.a.createElement(sa.a,{placement:"bottom",overlay:c.a.createElement(ia.a,{size:"lg",style:{zIndex:"9999"}},c.a.createElement(ia.a.Title,{as:"h3",className:"text-center"},e.length," minutes"),c.a.createElement(ia.a.Content,null,c.a.createElement("span",{className:"slot-info-popover-body"},c.a.createElement("strong",null,"Price:"),"\xa0",l," GBP"),0!==v.discount_type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"slot-info-popover-body"},c.a.createElement("strong",null,"Discount:"),"\xa0",v.discount_amount," ",1===v.discount_type?"%":"GBP"),c.a.createElement("span",{className:"slot-info-popover-body"},c.a.createElement("strong",null,"Discount end:"),"\xa0",g()(v.discount_end).toDate().toLocaleString()))))},c.a.createElement("button",{disabled:e.reserved,key:e.id,"data-day":t,"data-slot":a,className:"timing "+(r?"":"cursor-help"),onClick:function(e){return!!r&&function(e){var t=e.currentTarget,a=t.dataset.day,n=t.dataset.slot,c=v.days[a].slots[n];if(c.datetime=g()(v.days[a].date+" "+c.time).utc().format("Y-MM-DD HH:mm"),t.classList.contains("selected")){var l=w.filter((function(e){return e!=c}));j(l),t.classList.remove("selected")}else t.classList.add("selected"),j([].concat(Object(ct.a)(w),[c]))}(e)}},c.a.createElement("span",null,e.time," \u27a1 ",e.to)))})))})),c.a.createElement("div",{className:"col-1"})),c.a.createElement("div",{className:"row form-row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("span",{className:"text-muted p-2 d-block",style:{backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"5px",textAlign:"center",marginTop:"15px"}},c.a.createElement($.h,null),"\xa0All times are shown in your local timezone ",c.a.createElement("strong",null,"(UTC",g()().format("Z"),")")))))),r&&c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"submit-section proceed-btn text-right"},c.a.createElement("button",{onClick:function(e){0!==w.length?(m.setIsLoadingOverlayShown(!0),m.setLoadingOverlayText("Please wait while we hold these slots for you"),i({url:"/appointment/".concat(t,"/select-slots"),method:"POST",data:{slots:w}}).then((function(e){d.b.info("You will proceed to checkout, please note that the slots you selected will be held for only 15 minutes");var t=e.client_secret,n=e.appointments,c=e.total_price,l=e.currency_symbol;a({client_secret:t,appointments:n,total_price:c,currency_symbol:l})})).catch((function(e){})).finally((function(){m.setIsLoadingOverlayShown(!1)}))):d.b.error("At least one slot must be selected")},className:"btn btn-primary submit-btn"},c.a.createElement($.e,null),"\xa0Continue")))))},Ia=a(71),Aa=a(138),Da=(a(480),function(e){var t=e.client_secret,a=Object(n.useState)(!1),l=Object(s.a)(a,2),r=l[0],o=l[1],i=Object(n.useState)(null),m=Object(s.a)(i,2),f=m[0],b=m[1],E=Object(n.useState)(""),p=Object(s.a)(E,2),g=p[0],h=p[1],v=Object(n.useState)(!0),y=Object(s.a)(v,2),N=y[0],O=y[1],w=Object(Ia.useStripe)(),j=Object(Ia.useElements)(),_=function(){var e=Object(U.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t.empty),b(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(U.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),h(!0),e.next=4,w.confirmCardPayment(t,{payment_method:{card:j.getElement(Ia.CardElement),billing_details:{name:a.target.name.value}}});case 4:(n=e.sent).error?(b("Payment failed ".concat(n.error.message)),h(!1)):(b(null),h(!1),o(!0),d.b.success("Thank you, the appointment is successfully reserved and will be shown on your dashboard shortly",{duration:1e4}),u.push("/client-dashboard"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("form",{id:"payment-form",style:{margin:"auto"},onSubmit:k},c.a.createElement("span",{className:"text-xs d-block text-center mb-5"},c.a.createElement($.k,{className:"text-success"}),"\xa0It's safe to pay on Lawbe. Are transactions are protected by SSL protection"),c.a.createElement(Ia.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Roboto, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:_}),c.a.createElement("button",{disabled:g||N||r,id:"submit"},c.a.createElement("span",{id:"button-text"},g?c.a.createElement("div",{className:"spinner",id:"spinner"}):" Pay")),f&&c.a.createElement("div",{className:"card-error",role:"alert"},f),c.a.createElement("p",{className:r?"result-message":"result-message hidden"},"Payment succeeded, you will be redirected to your dashboard for an overview"))}),Ha=(Object(Aa.a)(K.stripe_api_key),function(e){var t=e.lawyer,a=e.match,l=a.url;console.log(a);var r=Object(n.useState)(null),o=Object(s.a)(r,2),m=o[0],u=o[1],d=ye().request;return Object(n.useEffect)((function(){d({url:"/blogs/lawyer/".concat(t.id),method:"GET"}).then((function(e){console.log(e),u(e.blogs)})).catch((function(){}))}),[]),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body pt-0"},c.a.createElement(Ma,{lawyer:t,match:a}),c.a.createElement("div",{className:"tab-content pt-0"},c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"".concat(l)}," ",c.a.createElement(i.a,{to:"".concat(l,"/overview")})),c.a.createElement(i.b,{path:"".concat(l,"/overview")}," ",c.a.createElement(qa,{lawyer:t})," "),c.a.createElement(i.b,{path:"".concat(l,"/reviews")},c.a.createElement(na,{lawyer:t})),c.a.createElement(i.b,{path:"".concat(l,"/hours")},c.a.createElement(Pa,{lawyer_id:t.id,allow_booking:!1})),c.a.createElement(i.b,{path:"".concat(l,"/blogs")},m&&c.a.createElement(de,{blogs:m,col:4}))))))}),Ma=function(e){var t=e.match.url;return console.log(t),c.a.createElement("nav",{className:"user-tabs mb-4"},c.a.createElement("ul",{className:"nav nav-tabs nav-tabs-bottom nav-justified"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(te.c,{replace:!0,to:"".concat(t,"/overview")},"Overview")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(te.c,{replace:!0,to:"".concat(t,"/reviews")},"Reviews")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(te.c,{replace:!0,to:"".concat(t,"/hours")},"Business Hours")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(te.c,{replace:!0,to:"".concat(t,"/blogs")},"Blogs"))))},qa=function(e){var t=e.lawyer,a=Object(o.a)({},t),n=a.biography,l=a.course,r=a.graduation_year,s=a.institution,i=a.regulator,m=a.years_licenced,u=["Regulated By: ".concat(i?i.regulator:""),"Year licenced: ".concat(m)];return c.a.createElement("div",{className:"col-md-12 col-lg-9"},c.a.createElement(Fa,{lawyer:t}),c.a.createElement("div",{className:"widget about-widget"},c.a.createElement("h4",{className:"widget-title"},"Accreditations"),c.a.createElement("div",{className:"session-services mb-0"},c.a.createElement("p",null,t.accreditations&&c.a.createElement(c.a.Fragment,null,t.accreditations.map((function(e,t){return c.a.createElement(N,{style:{maxHeight:"75px",marginRight:"10px"},accreditation:e})})))))),c.a.createElement(Ra,{bio:n}),c.a.createElement(Ga,{course:l,institution:s,graduation_year:r}),t.languages&&c.a.createElement("div",{className:"service-list"},c.a.createElement("h4",null,"Languages"),c.a.createElement("ul",{className:"clearfix"},t.languages.map((function(e){return c.a.createElement("li",{key:e},e)})))),c.a.createElement(Ba,{specializations:u}))},Fa=function(e){var t=e.lawyer;return c.a.createElement("div",{className:"widget about-widget"},c.a.createElement("h4",{className:"widget-title"},"Practice Areas"),c.a.createElement("div",{className:"session-services mb-0"},c.a.createElement("p",null,t.practice_areas&&t.practice_areas.map((function(e){return c.a.createElement("span",{key:e.id},e.area)})))))},Ra=function(e){var t=e.bio;return c.a.createElement("div",{className:"widget about-widget"},c.a.createElement("h4",{className:"widget-title"},"About Me"),c.a.createElement("p",null,t))},Ga=function(e){var t=e.course,a=e.institution,n=e.graduation_year;return c.a.createElement("div",{className:"widget education-widget"},c.a.createElement("h4",{className:"widget-title"},"Education"),c.a.createElement("div",{className:"experience-box"},c.a.createElement("ul",{className:"experience-list"},c.a.createElement("li",null,c.a.createElement("div",{className:"experience-user"},c.a.createElement("div",{className:"before-circle"})),c.a.createElement("div",{className:"experience-content"},c.a.createElement("div",{className:"timeline-content"},c.a.createElement("a",{href:"#/",className:"name"},a),c.a.createElement("div",null,t),c.a.createElement("span",{className:"time"},n)))))))},Ba=function(e){var t=e.specializations;return c.a.createElement("div",{className:"service-list"},c.a.createElement("h4",null,"More"),c.a.createElement("ul",{className:"clearfix"},t.map((function(e){return c.a.createElement("li",{key:e},e)}))))},za=function(e){var t=e.match,a=Object(n.useState)(null),l=Object(s.a)(a,2),r=l[0],o=l[1],m=Object(n.useContext)(Mn),d=ye().request;return Object(n.useEffect)((function(){var e=t.params.LawyerId;m.setLoadingOverlayText("Loading Lawter's Profile..."),m.setIsLoadingOverlayShown(!0),d({url:"lawyer/".concat(e),method:"GET"}).then((function(e){o(e.lawyer),console.log(e.lawyer)})).catch((function(e){})).finally((function(){m.setIsLoadingOverlayShown(!1)})),console.log()}),[]),c.a.createElement(i.c,{history:u},c.a.createElement("div",{className:"content"},r&&c.a.createElement(c.a.Fragment,null,c.a.createElement(he,{title:r.account.full_name+" | Lawbe.co.uk",description:"Book an appointment with "+r.account.full_name+" now!. Lawbe.co.uk",image:r.account.profile_picture}),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement(Te,{lawyer:r,match:t}),c.a.createElement(Ha,{lawyer:r,match:t})))))))},Ua=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye(),o=r.request,i=r.Logout,m=Object(n.useContext)(Mn);return Object(n.useEffect)((function(){m.setLoadingOverlayText("Loading..."),m.setIsLoadingOverlayShown(!0),o({url:"/account/personal-info",method:"GET"}).then((function(e){l(e.profile_data),m.setIsLoadingOverlayShown(!1)})).catch((function(e){}))}),[]),c.a.createElement("div",{className:"profile-sidebar"},c.a.createElement("div",{className:"widget-profile pro-widget-content"},c.a.createElement("div",{className:"profile-info-widget"},c.a.createElement("a",{className:"booking-lawyer-img"},c.a.createElement(O,{src:a.profile_picture,alt:"User Image"})),c.a.createElement("div",{className:"profile-det-info"},c.a.createElement("h3",null,a.name?"".concat(a.name," ").concat(a.surname):"loading..."),c.a.createElement("div",{className:"client-details"},c.a.createElement("h5",null,c.a.createElement("i",{className:"fas fa-phone"})," ",a.phone),c.a.createElement("h5",{className:"mb-0"},c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",a.city&&a.country?"".concat(a.city,", ").concat(a.country):"-"))))),c.a.createElement("div",{className:"dashboard-widget"},c.a.createElement(St.a,{className:"dashboard-menu"},c.a.createElement("div",{className:"dashboard-menu"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(Ct.a,{to:"/client-dashboard/status"},c.a.createElement("i",{className:"fas fa-columns"}),c.a.createElement("span",null," Dashboard"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{exact:!0,to:"/client-dashboard/calendar"},c.a.createElement("i",{className:"fas fa-calendar"}),c.a.createElement("span",null,"Calendar"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{replace:!1,to:"/client-dashboard/chat"},c.a.createElement("i",{className:"fas fa-comments"}),c.a.createElement("span",null,"Messages"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{to:"/client-dashboard/settings"},c.a.createElement("i",{className:"fas fa-user-cog"}),c.a.createElement("span",null,"Profile Settings"))),c.a.createElement("li",null,c.a.createElement(Ct.a,{to:"/client-dashboard/change-password"},c.a.createElement("i",{className:"fas fa-lock"}),c.a.createElement("span",null,"Change Password"))),c.a.createElement("li",null,c.a.createElement("a",{href:"#",onClick:i},c.a.createElement("i",{className:"fas fa-sign-out-alt"}),c.a.createElement("span",null,"Logout"))))))))},Ya=function(e){var t=e.id,a=e.lawyer_id,l=e.appointment_time,r=e.created_at,o=e.status,i=e.price,m=e.duration,f=e.is_cancellable,b=e.can_be_started,E=e.currency_symbol,p=ye().request,h=Object(n.useState)(null),v=Object(s.a)(h,2),y=v[0],N=v[1];Object(n.useEffect)((function(){p({url:"lawyer/".concat(a),method:"GET"}).then((function(e){N(e.lawyer),console.log(e.lawyer)})).catch((function(e){}))}),[]);return c.a.createElement("tr",null,c.a.createElement("td",null,y&&c.a.createElement("h2",{className:"table-avatar"},c.a.createElement(te.b,{to:"/profile/".concat(a,"/").concat(y.account.full_name.replace(/ +/g,"-")),className:"avatar avatar-sm mr-2"},c.a.createElement(O,{src:y.account.profile_picture,className:"avatar-img rounded-circle",alt:"User Image"})),c.a.createElement(te.b,{to:"/profile/".concat(a,"/").concat(y.account.full_name.replace(/ +/g,"-"))},"".concat(y.account.name," ").concat(y.account.surname),c.a.createElement("span",null,y.lawyer_type.type)))),c.a.createElement("td",null,g()(l).format("Do MMMM YYYY")," ",c.a.createElement("span",{className:"d-block text-info"},g()(l).format("hh:mm a"))),c.a.createElement("td",null,g()(r).format("Do MMMM YYYY")),c.a.createElement("td",null,"".concat(m," minutes")),c.a.createElement("td",null,E," ",i),c.a.createElement("td",null,c.a.createElement(Yt,{appStatus:o})),c.a.createElement("td",{className:"text-right"},c.a.createElement("div",{className:"table-action"},b&&c.a.createElement(c.a.Fragment,null,c.a.createElement(te.b,{className:"btn btn-sm bg-success-light m-1",to:"/video/".concat(t)},c.a.createElement("i",{className:"fas fa-user"})," Join")),f&&c.a.createElement("a",{href:"//",className:"btn btn-sm bg-danger-light",onClick:function(e){e.preventDefault(),J.a.confirm({title:"This will cancel the appointment",message:"Are you sure you would like to cancel ?",callback:function(e){e&&p({url:"/appointment/".concat(t,"/cancel"),method:"POST"}).then((function(e){d.b.success("Appointment is cancelled"),window.location.reload()})).catch((function(e){d.b.error("Appointment couldn't be cancelled")}))}})}},c.a.createElement("i",{className:"fas fa-times"})," Cancel"),"DONE"===o&&c.a.createElement(te.b,{to:"".concat(u.location.pathname,"/rate-lawyer/").concat(t,"/").concat(a),className:"btn btn-sm bg-primary-light m-1"},c.a.createElement("i",{className:"fas fa-star"})," Rate"),c.a.createElement(te.b,{to:"".concat(u.location.pathname,"/details/").concat(t),className:"btn btn-sm bg-info-light"},c.a.createElement("i",{className:"far fa-eye"})," View"))))},Wa=function(e){return c.a.createElement("div",{className:"tab-pane",id:"upcoming-appointments"},c.a.createElement("div",{className:"card card-table mb-0"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-hover table-center mb-0",style:{backgroundColor:"white",display:"block"}},c.a.createElement("tbody",{style:{width:"100%",display:"table"}},c.a.createElement("tr",null,c.a.createElement("th",null,"Lawyer"),c.a.createElement("th",null,"Appt Date"),c.a.createElement("th",null,"Booking Date"),c.a.createElement("th",null,"duration"),c.a.createElement("th",null,"Amount"),c.a.createElement("th",null,"Status"),c.a.createElement("th",null)),e.children))))))},Va=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/client/appointments?upcoming=true",method:"GET"}).then((function(e){console.log(e),l(e.appointments)})).catch((function(){}))}),[]),c.a.createElement(Wa,null,a.length?a.map((function(e){return c.a.createElement(Ya,Object.assign({key:e.id},e))})):c.a.createElement(Zt,null,"No upcoming appointments yet"))},Ja=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=ye().request;return Object(n.useEffect)((function(){r({url:"/client/appointments?upcoming=false",method:"GET"}).then((function(e){console.log(e),l(e.appointments)})).catch((function(){}))}),[]),c.a.createElement(Wa,null,a.length?a.map((function(e){return c.a.createElement(Ya,Object.assign({key:e.id},e))})):c.a.createElement(Zt,null,"You have no appointments, book a lawyer now!"))},Ka=function(e){var t=e.appointments,a="/client-dashboard/status";return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body pt-0"},c.a.createElement(i.c,{history:u},c.a.createElement(St.a,{className:"user-tabs mb-4"},c.a.createElement("ul",{className:"nav nav-tabs nav-tabs-bottom nav-justified",style:{width:"100%"}},c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ct.a,{to:"".concat(a,"/upcoming")},"Upcoming")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ct.a,{to:"".concat(a,"/all")},"All")))),c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/client-dashboard/status"},c.a.createElement(i.a,{replace:!0,to:"".concat(a,"/upcoming")})),c.a.createElement(i.b,{path:"".concat(a,"/upcoming")},c.a.createElement(Va,{appointments:t})),c.a.createElement(i.b,{path:"".concat(a,"/all")},c.a.createElement(Ja,{appointments:t}))))))},Za=function(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"}," ",c.a.createElement(Ka,{appointments:[{id:1},{id:2},{id:3},{id:4}]})," "))},Xa=function(){return c.a.createElement("div",{className:"card"},c.a.createElement(he,{title:"Dashboard | Lawbe.co.uk",description:"Edit your profile | Lawbe.co.uk"}),c.a.createElement("div",{className:"card-body"},c.a.createElement(Pt,null),c.a.createElement("hr",null),c.a.createElement(Ft,null)))},$a=function(){return c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/client-dashboard"},c.a.createElement(i.a,{replace:!0,to:"/client-dashboard/status"})),c.a.createElement(i.b,{path:"/client-dashboard/status"},c.a.createElement(Za,null)),c.a.createElement(i.b,{path:"/client-dashboard/calendar"},c.a.createElement(pa,null)),c.a.createElement(i.b,{path:"/client-dashboard/chat/:chatId",render:function(e){return c.a.createElement(Ca,Object.assign({},e,{url:"/client-dashboard/chat",minHeight:"500px"}))}}),c.a.createElement(i.b,{path:"/client-dashboard/chat",render:function(e){return c.a.createElement(Ca,Object.assign({},e,{url:"/client-dashboard/chat",minHeight:"500px"}))}}),c.a.createElement(i.b,{path:"/client-dashboard/settings"},c.a.createElement(Xa,null)),c.a.createElement(i.b,{path:"/client-dashboard/change-password"},c.a.createElement(Lt,null)),c.a.createElement(i.b,{path:"/client-dashboard/logout"},c.a.createElement(i.a,{replace:!0,to:"/"})))},Qa=function(){return c.a.createElement(i.c,{history:u},c.a.createElement(he,{title:"Edit profile | Lawbe.co.uk",description:"Edit your profile | Lawbe.co.uk"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 d-md-none"},c.a.createElement("button",{className:"btn btn-primary mb-2 sticky-top float-right btn-block","data-toggle":"collapse","data-target":"#dashboard_nav",style:{zIndex:0}},c.a.createElement($.b,null))),c.a.createElement("div",{className:"col-12 col-md-3 col-lg-3 collapse d-md-block",id:"dashboard_nav"},c.a.createElement(Xe.a,null,c.a.createElement(Ua,null))),c.a.createElement("div",{className:"col-12 col-md-9"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement($a,null))))))},en=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],r=G(P),o=Object(s.a)(r,3),i=o[0],m=o[2],f=Object(n.useState)(!1),b=Object(s.a)(f,2),E=b[0],p=b[1],g=ye().request;return c.a.createElement("div",{className:"content",style:{backgroundColor:"#ffffff"}},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8 offset-md-2"},c.a.createElement("div",{className:"account-content"},c.a.createElement("div",{className:"row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-md-7 col-lg-6 login-left"},c.a.createElement("img",{src:"/undraw_my_password_d6kg.svg",className:"img-fluid",alt:"Fogot Password"})),c.a.createElement("div",{className:"col-md-12 col-lg-6 login-right"},c.a.createElement("div",{className:"login-header"},c.a.createElement("h3",null,"Forgot Password?"),c.a.createElement("p",{className:"small text-muted"},"Enter your email to get a password reset link")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m({email:a}).then(function(){var e=Object(U.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(p(!0),console.log("safe"),g({url:"/account/reset-password-request",method:"POST",data:{email:a}}).then((function(e){console.log("reset successful"),d.b.success("Password reset successfully, Please check your mail"),u.push("/home")})).catch((function(e){})).finally((function(){p(!1)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},c.a.createElement("div",{className:"form-group form-focus"},c.a.createElement(w,{placeholder:"Email",name:"email",value:a,type:"text",errors:i.email,OnChangeHandler:function(e){l(e.target.value),m({email:e.target.value},"email")}})),c.a.createElement("button",{className:"btn btn-primary btn-block btn-lg login-btn "+(E?"cursor-not-allowed":""),type:"submit",disabled:E},E&&c.a.createElement($.w,{className:"icon-spin"}),"\xa0",E?"":"Reset Password")))))))))},tn=(a(481),a(263)),an=a(182),nn=function(e){var t=e.appointment_id,a=Object(n.useState)(!0),l=Object(s.a)(a,2),r=l[0],i=l[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),f=u[0],E=u[1],p=Object(n.useState)(null),g=Object(s.a)(p,2),h=g[0],v=g[1],y=Object(n.useState)(null),N=Object(s.a)(y,2),O=N[0],w=N[1],j=Object(n.useState)(null),_=Object(s.a)(j,2),k=_[0],x=_[1],S=Object(n.useState)(null),C=Object(s.a)(S,2),T=C[0],L=C[1],P=Object(n.useState)(null),I=Object(s.a)(P,2),A=I[0],D=I[1],H=Object(n.useState)(new Date),M=Object(s.a)(H,2),q=M[0],F=M[1],R=Object(n.useState)(!1),G=Object(s.a)(R,2),B=G[0],Y=G[1],W=Object(n.useState)(1),V=Object(s.a)(W,2),K=V[0],Z=V[1],X=ye().request,Q=function(){E(!f)},ee=function(){null!==k&&(ne(),k.disconnect(),Y(!1))};Object(n.useEffect)((function(){null!==k&&(r?k.localParticipant.audioTracks.forEach((function(e){e.track.disable()})):k.localParticipant.audioTracks.forEach((function(e){e.track.enable()})))}),[k,r]);var te=function(){X({url:"/appointment/".concat(t,"/get-room-access-token"),method:"GET"}).then((function(e){console.log(e),v(e.room_sid),w(e.access_token),D(e.chat_id),F(new Date(e.appointment_end))})).catch((function(e){d.b.warn("It's not the appointment time, you will not be connected")}))};Object(n.useEffect)((function(){te()}),[]),Object(n.useEffect)((function(){if(console.log("Connect call",h,O,T),null!==h&&null!==O&&null!==T)return Object(an.connect)(O,{sid:h,tracks:T}).then((function(e){console.log("Successfully joined a Room: ".concat(e)),x(e),Y(!0)}),(function(e){console.error("Unable to connect to Room: ".concat(e.message)),console.log(e),d.b.error("An error occurred connecting to the room")})),function(){ee()}}),[h,O,T]),Object(n.useEffect)((function(){if(null!==k){var e=function(e){if("audio"===e.kind){Object(ct.a)(document.getElementsByClassName("incomingAudio")).map((function(e){e.remove()}));var t=e.attach();t.className="incomingAudio",document.getElementById("incomingMedia").appendChild(t)}else{Object(ct.a)(document.getElementsByClassName("incomingVideo")).map((function(e){e.remove()}));var a=e.attach();a.className="incomingVideo",document.getElementById("incomingMedia").appendChild(a)}Z(K+1)};k.participants.forEach((function(t){console.log('Participant "'.concat(t.identity,'" is connected to the Room')),t.tracks.forEach((function(t){t.track&&e(t.track)})),t.on("trackSubscribed",(function(t){e(t)})),t.on("trackSubscribed",(function(t){e(t)}))})),k.on("participantConnected",(function(t){console.log("A remote Participant connected: ".concat(t)),t.tracks.forEach((function(t){t.isSubscribed&&e(t.track)})),t.on("trackSubscribed",(function(t){e(t)}))})),k.once("participantDisconnected",(function(e){console.log('Participant "'.concat(e.identity,'" has disconnected from the Room')),Object(ct.a)(document.getElementsByClassName("incomingAudio")).map((function(e){e.remove()})),Object(ct.a)(document.getElementsByClassName("incomingVideo")).map((function(e){e.remove()})),d.b.info("Participant disconnected from the room"),Z(K-1)})),k.on("disconnected",(function(e){e.localParticipant.tracks.forEach((function(e){e.track.detach().forEach((function(e){return e.remove()}))}))}))}}),[k]);var ae=function(){var e=Object(U.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices().then((function(e){var t=e.find((function(e){return"videoinput"===e.kind})),a=e.find((function(e){return"audioinput"===e.kind}));return Object(an.createLocalTracks)({audio:{deviceId:a.deviceId},video:{deviceId:t.deviceId}})})).then((function(e){L(e);var t=document.getElementById("outgoingVideo");e.map((function(e){t.appendChild(e.attach())}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){for(var e=document.getElementById("outgoingVideo");e.hasChildNodes();)e.removeChild(e.firstChild);null!==k&&k.localParticipant.videoTracks.forEach((function(e){e.track.stop(),e.unpublish()}))};Object(n.useEffect)((function(){return ae(),ne}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xe.a,{style:{zIndex:"10"}},c.a.createElement("div",{class:"row no-gutters",style:{height:"75vh"}},c.a.createElement("div",{class:"col"},c.a.createElement("div",{className:"stream",id:"incomingMedia"},c.a.createElement(b.a,{active:!B||B&&K<=1,spinner:null===k||B&&K<=1,text:B?"Please wait while the other party connects to the room":null===k?"Connecting to room":"You are disconnected",styles:{overlay:function(e){return Object(o.a)(Object(o.a)({},e),{},{position:"absolute",zIndex:"2"})},wrapper:function(e){return Object(o.a)(Object(o.a)({},e),{},{height:"100%",width:"100%",position:"absolute"})}}}),c.a.createElement("div",{className:"controls"},c.a.createElement("div",{className:"buttons "+(f?"d-none":"d-flex")+" d-lg-flex"},c.a.createElement(Se.a,{date:q,renderer:function(e){return 0===e.hours&&5===e.minutes&&0===e.seconds&&d.b.info("This room will end automatically in 5 minutes."),c.a.createElement("span",{className:"call-count-down"}," ",Object(Se.b)(e.hours),":",Object(Se.b)(e.minutes),":",Object(Se.b)(e.seconds)," ")}}),!B&&null!==k&&c.a.createElement("button",{class:"btn btn-dark",title:"Join room",onClick:function(){x(null),ae().then((function(){te()}))}},c.a.createElement($.q,null)),c.a.createElement("button",{class:"btn btn-info d-lg-none",onClick:Q,title:"Chat"},c.a.createElement(tn.a,null)),c.a.createElement("button",{class:"btn btn-danger",onClick:function(){J.a.confirm({title:"Confirm",message:"Are you sure you would like to disconnect from the room?",callback:function(e){e&&ee()}})},title:"Hangup"},c.a.createElement($.p,null)),c.a.createElement("button",{class:"btn btn-primary",onClick:function(){i(!r)},title:r?"Unmute":"Mute"},r?c.a.createElement($.m,null):c.a.createElement($.l,null)))),c.a.createElement("div",{className:"outgoing",id:"outgoingVideo"}," "))),c.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 "+(f?"d-block":"d-none")+" d-lg-block"},c.a.createElement("button",{onClick:Q,className:"btn btn-primary btn-block d-lg-none"},c.a.createElement($.g,null)),null!==A&&c.a.createElement(Ca,{list_chats:!1,initialSelectedChat:A,showContent:!0,notify:function(){d.b.info("A new message has arrived")}})))))},cn=a(264),ln=a.n(cn),rn=function(e){var t=e.register;return c.a.createElement(ln.a,{appId:K.facebook_app_id,cssClass:"btn btn-facebook btn-block",icon:"fab fa-facebook-f mr-1",textButton:t?" Register":" Login",fields:"name,email,picture",callback:function(e){console.log(e)}})},on=a(265),sn=a.n(on),mn=function(e){var t=e.register,a=ye().request,l=Object(n.useContext)(qn),r=Object(s.a)(l,2),o=(r[0],r[1]),i=function(e){if("undefined"!==typeof e.tokenObj){var t={id_token:e.tokenObj.id_token,name:e.profileObj.givenName,surname:e.profileObj.familyName,email:e.profileObj.email};a({url:"auth/google-login",method:"POST",data:t}).then((function(e){o({accessToken:e.access_token,accountType:e.account_type,isLoggedIn:!0,accountId:e.account.account.id})})).catch((function(e){console.log(e)}))}};return c.a.createElement(sn.a,{clientId:K.google_client_id,render:function(e){return c.a.createElement("a",{href:"//",className:"btn btn-google btn-block",onClick:e.onClick},c.a.createElement("i",{className:"fab fa-google mr-1"})," ",t?" Register":" Login")},onSuccess:i,onFailure:i,cookiePolicy:"single_host_origin",isSignedIn:!1})},un=function(e){return c.a.createElement("div",{className:"account-content"},c.a.createElement("div",{className:"row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-lg-5 login-left"},c.a.createElement("img",{src:"/undraw_welcoming_xvuq.svg",className:"img-fluid",alt:"Register"})),c.a.createElement("div",{className:"col-md-12 col-lg-7 login-right"},e.children)))},dn=function(e){var t=e.back,a=Object(n.useState)({email:"",password:"",refresh_token:!1}),l=Object(s.a)(a,2),r=l[0],i=l[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),f=d[0],b=d[1],E=G(x),p=Object(s.a)(E,3),g=p[0],h=p[1],v=p[2],N=ye().request,O=Object(n.useContext)(qn),j=Object(s.a)(O,2),_=(j[0],j[1]),k=function(e){var t=e.target,a=t.name,n=t.value,c=Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},a,n));i(c),v(c,a)};return c.a.createElement(un,null,c.a.createElement("div",{className:"login-header"},c.a.createElement("h3",null,"Login ",c.a.createElement("span",null,"Lawbe"))),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v(r).then((function(e,t){if(!e){b(!0);N({url:"/auth/login",method:"POST",data:r}).then((function(e){_({accessToken:e.access_token,accountType:e.account_type,refreshToken:e.refresh_token||null,isLoggedIn:!0,accountId:e.user_id}),"undefined"===typeof e.account.fully_registered||e.account.fully_registered||u.push({pathname:"/dashboard/settings/lawyer-info",state:{showAlert:!0}})})).catch((function(e){console.log("failed",e),h(["password","email"],{password:["Invalid password supplied"]})})).finally((function(){b(!1)}))}}))}},c.a.createElement(w,{placeholder:"Email",name:"email",value:r.email,type:"text",OnChangeHandler:k,errors:g.email}),c.a.createElement(w,{placeholder:"Password",name:"password",value:r.password,type:"password",OnChangeHandler:k,errors:g.password}),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",null,c.a.createElement("label",{className:"custom_check"},c.a.createElement("input",{type:"checkbox",name:"refresh_token",value:r.refresh_token,onChange:function(){return i(Object(o.a)(Object(o.a)({},r),{},{refresh_token:!r.refresh_token}))}}),c.a.createElement("span",{className:"checkmark"})," remember me"))),c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"text-right"},c.a.createElement(te.b,{className:"forgot-link",to:"/forgot-password"},"Forgot Password ?")))),c.a.createElement("button",{className:"btn btn-primary btn-block btn-lg login-btn "+(f?"cursor-not-allowed":""),type:"submit",disabled:f},f&&c.a.createElement($.w,{className:"icon-spin"}),"\xa0",f?"":"Login"),c.a.createElement("div",{className:"login-or"},c.a.createElement("span",{className:"or-line"}),c.a.createElement("span",{className:"span-or"},"or")),c.a.createElement("div",{className:"row form-row social-login"},c.a.createElement("div",{className:"col-6"},c.a.createElement(rn,null)),c.a.createElement("div",{className:"col-6"},c.a.createElement(mn,null))),c.a.createElement("div",{className:"text-center dont-have"},"Don\u2019t have an account?",c.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return u.replace("".concat(t,"/register"))}}," ","Register"))))},fn={position:"fixed",left:0,top:0,bottom:0,right:0,backgroundColor:"rgba(0,0,0,.2)",alignItems:"center",justifyContent:"center",color:"##FFF",display:"flex",zIndex:"1000"},bn={display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:"1rem 1rem",borderBottom:"1px solid #dee2e6",borderTopLeftRadius:"calc(.3rem - 1px)",borderTopRightRadius:"calc(.3rem - 1px)"},En=function(e){return Object(l.createPortal)(c.a.createElement("div",{style:fn,onClick:e.onClick},e.children),document.getElementById("modal_root"))},pn=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),l=Object(s.a)(a,2),r=(l[0],l[1]),o=function(e){t.current&&!t.current.contains(e.target)&&r(!0)};Object(n.useEffect)((function(){return document.addEventListener("mousedown",o),function(){return document.removeEventListener("mousedown",o)}}),[t]);return c.a.createElement("div",{style:{position:"relative",display:"flex",flexDirection:"column",pointerEvents:"auto",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid rgba(0,0,0,.2)",borderRadius:".3rem",outline:"0",margin:"auto",overflow:"auto"},ref:t},c.a.createElement("div",{style:bn},c.a.createElement("div",{className:"modal-title h4"},e.header),c.a.createElement("button",{className:"close",onClick:function(){e.back?u.push(e.back):u.goBack()}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"),c.a.createElement("span",{className:"sr-only"},"Close"))),c.a.createElement("div",{style:{padding:"20px"}},e.children))},gn=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),l=Object(s.a)(a,2),r=l[0],o=l[1],i=function(e){t.current&&!t.current.contains(e.target)&&o(!0)};Object(n.useEffect)((function(){return document.addEventListener("mousedown",i),function(){return document.removeEventListener("mousedown",i)}}),[t]);return c.a.createElement(En,{onClick:function(){r&&u.goBack()}},c.a.createElement("div",{style:{position:"relative",display:"flex",flexDirection:"column",pointerEvents:"auto",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid rgba(0,0,0,.2)",borderRadius:".3rem",outline:"0",maxWidth:"90%",margin:"auto",maxHeight:"90%",overflow:"auto"},ref:t},c.a.createElement("div",{style:bn},c.a.createElement("div",{className:"modal-title h4"},e.header),c.a.createElement("button",{className:"close",onClick:function(){e.back?u.push(e.back):u.goBack()}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"),c.a.createElement("span",{className:"sr-only"},"Close"))),e.children))},hn=function(e){return c.a.createElement(En,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2"},c.a.createElement(pn,{header:"Register"},c.a.createElement(dn,{back:e.back})))))},vn=function(e){return c.a.createElement("div",{className:"account-content"},c.a.createElement("div",{className:"row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-lg-5 login-left"},c.a.createElement("img",{src:e.isClient?"/undraw_personal_info.svg":"/undraw_businessman.svg",className:"img-fluid",alt:"Register"})),c.a.createElement("div",{className:"col-md-12 col-lg-7 login-right"},e.children)))},yn=function(e){var t=e.back,a=ye().request,l=Object(n.useState)({name:"",surname:"",email:"",phone:"",password:"",isClient:!0}),r=Object(s.a)(l,2),i=r[0],m=r[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),b=f[0],E=f[1],p=G(k),g=Object(s.a)(p,3),h=g[0],v=g[1],N=g[2],O=function(e){var t=e.target.name,a=Object(o.a)(Object(o.a)({},i),{},Object(y.a)({},t,e.target.value));m(a),N(a,t)};return c.a.createElement(vn,{isClient:i.isClient},c.a.createElement("div",{className:"login-header"},c.a.createElement("h5",null,i.isClient?"Client Register":"Lawyer Register",c.a.createElement("button",{className:"btn btn-link text-right",onClick:function(){m(Object(o.a)(Object(o.a)({},i),{},{isClient:!i.isClient}))}},i.isClient?"Not a Client?":"Not a Lawyer?"))),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N(i).then(function(){var e=Object(U.a)(z.a.mark((function e(t,n){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(E(!0),c="",c=i.isClient?"/register/client":"/register/lawyer",a({url:c,method:"POST",data:i}).then((function(e){console.log("success",e),u.replace("/post-register")})).catch((function(e){var t=e.response.data.errors,a=[];for(var n in t)a.push(n);v(a,t)})).finally((function(){E(!1)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col"},c.a.createElement(w,{placeholder:"Name",name:"name",value:i.name,type:"text",errors:h.name,OnChangeHandler:O})),c.a.createElement("div",{className:"col"},c.a.createElement(w,{placeholder:"surname",name:"surname",value:i.surname,type:"text",errors:h.surname,OnChangeHandler:O}))),c.a.createElement(w,{placeholder:"Telephone Number",name:"phone",value:i.phone,type:"text",errors:h.phone,OnChangeHandler:O}),c.a.createElement(w,{placeholder:"Email",name:"email",value:i.email,type:"text",errors:h.email,OnChangeHandler:O}),c.a.createElement(w,{placeholder:"Password",name:"password",value:i.password,type:"password",errors:h.password,OnChangeHandler:O}),c.a.createElement("div",{className:"text-right"},c.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return u.replace("".concat(t,"/login"))},className:"forgot-link"},"Already have an account?")),c.a.createElement("button",{className:"btn btn-primary btn-block btn-lg login-btn "+(b?"cursor-not-allowed":""),type:"submit",disabled:b},b&&c.a.createElement($.w,{className:"icon-spin"}),"\xa0",b?"":"Register"),c.a.createElement("div",{className:"login-or"},c.a.createElement("span",{className:"or-line"}),c.a.createElement("span",{className:"span-or"},"or")),c.a.createElement("div",{className:"row form-row social-login"},c.a.createElement("div",{className:"col-6"},c.a.createElement(rn,{register:!0})),c.a.createElement("div",{className:"col-6"},c.a.createElement(mn,{register:!0})))))},Nn=function(e){return c.a.createElement(En,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2"},c.a.createElement(pn,{header:"Register"},c.a.createElement(yn,{back:e.back})))))},On=(a(582),a(613)),wn=a(614),jn=Object(Aa.a)(K.stripe_api_key);function _n(e){var t=e.lawyer,a=e.handleTimeSelection;return c.a.createElement(Pa,{lawyer_id:t.id,handleSelection:a})}function kn(e){var t=e.heldAppointmentsData,a=e.lawyer,l=e.handleConfirm,r=Object(n.useState)({discount:0,subtotal:0}),o=Object(s.a)(r,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){var e=0,n=0;t.appointments.map((function(t,c){var l=a.price_per_hour*t.duration/60,r=a.discount_ends_in>0?a.is_percent_discount?a.discount/100*a.price_per_hour*t.duration/60:a.discount:0;n+=l,e+=r})),m({discount:e,subtotal:n})}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("small",{className:"d-block text-center"},"Your selection will be held for 15 minutes"),c.a.createElement("div",{className:"review-container"},c.a.createElement("table",{className:"table"},c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Slot time"),c.a.createElement("th",null,"Slot length"),c.a.createElement("th",null,"Slot price"),c.a.createElement("th",null,"Slot discount"),c.a.createElement("th",null,"Slot net")),t.appointments.map((function(e,t){var n=a.price_per_hour*e.duration/60,l=a.discount_ends_in>0?a.is_percent_discount?a.discount/100*a.price_per_hour*e.duration/60:a.discount:0;return c.a.createElement("tr",null,c.a.createElement("td",null,t+1),c.a.createElement("td",null,new Date(e.appointment_time).toLocaleString()),c.a.createElement("td",null,e.duration," Minutes"),c.a.createElement("td",null,e.currency_symbol," ",n),c.a.createElement("td",null,e.currency_symbol," ",l),c.a.createElement("td",null,e.currency_symbol," ",e.price))})),c.a.createElement("tr",{className:"totals"},c.a.createElement("td",{colSpan:4}," "),c.a.createElement("td",null,"Subtotal"),c.a.createElement("td",null,t.summary.currency_symbol," ",i.subtotal)),c.a.createElement("tr",{className:"totals"},c.a.createElement("td",{colSpan:4}," "),c.a.createElement("td",null,"Discount"),c.a.createElement("td",null,t.summary.currency_symbol," ",i.discount)),c.a.createElement("tr",{className:"totals"},c.a.createElement("td",{colSpan:4}," "),c.a.createElement("td",null,"Total"),c.a.createElement("td",null,t.summary.currency_symbol," ",t.summary.total_price))),c.a.createElement("button",{className:"btn btn-primary float-right my-5",onClick:l},c.a.createElement($.f,null),"\xa0Checkout")))))}function xn(e){var t=e.client_secret;return c.a.createElement(Ia.Elements,{stripe:jn},c.a.createElement(Da,{client_secret:t}))}var Sn=function(e){var t=e.lawyer_id,a=e.back,l=ye().request,r=Object(n.useContext)(Mn),o=Object(n.useContext)(qn),m=Object(s.a)(o,1)[0],u=Object(i.g)();Object(i.h)(),Object(n.useEffect)((function(){m.isLoggedIn||u.replace("".concat(a,"/login"))}),[]);var d=Object(n.useState)(null),f=Object(s.a)(d,2),b=f[0],E=f[1];Object(n.useEffect)((function(){r.setIsLoadingOverlayShown(!0),l({url:"/lawyer/".concat(t),method:"GET"}).then((function(e){console.log(e),E(e.lawyer)})).catch((function(){})).finally((function(){r.setIsLoadingOverlayShown(!1)}))}),[]);var p=Object(n.useState)(0),g=Object(s.a)(p,2),h=g[0],v=g[1],y=Object(n.useState)({clientSecret:null,summary:null,appointments:[]}),N=Object(s.a)(y,2),O=N[0],w=N[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(En,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2"},null!==b&&c.a.createElement("div",{className:"booking-container-popup mt-5"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement(te.b,{to:a,className:"btn btn-link float-right"},c.a.createElement($.x,null)),c.a.createElement("div",{className:"lawyer-thumb"},c.a.createElement(ie,{src:b.account.profile_picture,diameter:150})),c.a.createElement("span",{className:"lawyer-name"},b.account.full_name),c.a.createElement("div",{className:"lawyer-rating"},c.a.createElement(xe.a,{rating:b.ratings_average,starRatedColor:"gold",starDimension:"20px",starSpacing:"0px",numberOfStars:5,name:"rating"}),"\xa0",c.a.createElement("span",{className:"text-xs"},"(",b.ratings_count,")")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"breadcrumbs-container"},c.a.createElement(On.a,null,c.a.createElement(wn.a,{active:0===h},"Select slots"),c.a.createElement(wn.a,{active:1===h},"Review"),c.a.createElement(wn.a,{active:2===h},"Checkout"))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},0===h&&c.a.createElement(_n,{lawyer:b,handleTimeSelection:function(e){var t=e.client_secret,a=e.total_price,n=e.currency_symbol,c=e.appointments;w({clientSecret:t,summary:{total_price:a,currency_symbol:n},appointments:c}),v(1)}}),1===h&&c.a.createElement(kn,{heldAppointmentsData:O,lawyer:b,handleConfirm:function(){v(2)}}),2===h&&c.a.createElement(xn,{client_secret:O.clientSecret})))))))))},Cn=function(e){var t=e.match;return c.a.createElement(Sn,{back:t.params[0],lawyer_id:t.params.LawyerId})},Tn=function(e){var t=e.appId,a=e.lawyerId,l=Object(n.useState)(0),r=Object(s.a)(l,2),o=r[0],i=r[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),b=f[0],E=f[1],p=Object(n.useState)({}),g=Object(s.a)(p,2),h=g[0],v=g[1],y=ye().request;Object(n.useEffect)((function(){y({url:"lawyer/".concat(a),method:"GET"}).then((function(e){v(e.lawyer.account)})).catch((function(e){}))}),[]);return c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"blog blog-grid-row"},c.a.createElement("div",{className:"profile-info-widget justify-content-center"},c.a.createElement(te.b,{to:"profile/".concat(a),className:"booking-lawyer-img"},c.a.createElement(O,{src:h.profile_picture,className:"img-fluid",style:{borderRadius:"120px",height:"120px",width:"120px",objectFit:"cover"}}))),c.a.createElement("div",{className:"profile-det-info mt-4",style:{textAlign:"center"}},c.a.createElement("h2",null,"".concat(h.name," ").concat(h.surname))),c.a.createElement("div",{className:"justify-content-center",style:{display:"flex"}},c.a.createElement(xe.a,{rating:o,starRatedColor:"gold",starHoverColor:"gold",starDimension:"30px",starSpacing:"5px",changeRating:function(e,t){return i(e)},numberOfStars:5,name:"rating"})),c.a.createElement("div",{className:"justify-content-center mt-4"},c.a.createElement("div",{className:"justify-content-center mt-4 "+(b&&""!==b?"form-group form-focus focused":"form-group form-focus"),style:{display:"flex",height:"auto"}},c.a.createElement("textarea",{style:{height:"auto"},className:"form-control",value:b,onChange:function(e){var t=e.target.value;return E(t)}}),c.a.createElement("label",{className:"focus-label"},"Please write a review"))),c.a.createElement("button",{className:"btn btn-primary btn-block btn-lg login-btn ",type:"submit",onClick:function(e){e.preventDefault(),console.log("done"),y({url:"/rating/rate/".concat(t),method:"POST",data:{rating:o,comment:b}}).then((function(e){d.b.success("Thank You!"),u.goBack()})).catch((function(e){d.b.error("An error occured")}))}},"\xa0Submit"))))},Ln=function(e){var t=e.match;return console.log(Object(o.a)({},t.params)),c.a.createElement(gn,{header:"Rate This Lawyer!",width:"50%"},c.a.createElement(Tn,{appId:t.params.appId,lawyerId:t.params.lawyerId}))},Pn=function(){return c.a.createElement("div",{className:"error-page"},c.a.createElement("div",{className:"main-wrapper"},c.a.createElement("div",{className:"error-box"},c.a.createElement("h1",null,"404"),c.a.createElement("h3",{className:"h2 mb-3"},c.a.createElement("i",{className:"fa fa-warning"})," Oops! Page not found!"),c.a.createElement("p",{className:"h4 font-weight-normal"},"The page you requested was not found."),c.a.createElement(te.b,{to:"/home",className:"btn btn-primary"},"Back to Home"))))},In=function(e){var t=e.appointment,a=t.lawyer,l=t.client,r=new Date(t.appointment_time),o=Object(n.useContext)(qn),i=Object(s.a)(o,1)[0],m=r.toLocaleString("en-GB",{year:"numeric",month:"long",day:"numeric"}),u=r.toLocaleString("en-GB",{hour12:!0,hour:"numeric",minute:"numeric"});return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-6",style:{borderRight:"1px solid #ddd"}},c.a.createElement("h6",null,"Lawyer"),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(ie,{src:a.account.profile_picture,alt:"User",diameter:100})),c.a.createElement(te.b,{to:"/profile/".concat(a.id,"/").concat(a.account.full_name.replace(/ +/g,"-"))},c.a.createElement("span",{className:"d-block text-center text-lg font-weight-bold"},a.account.full_name)),c.a.createElement("span",{class:"d-block text-center text-muted"},a.account.email)),c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement("h6",null,"Client"),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(ie,{src:l.account.profile_picture,alt:"User",diameter:100})),c.a.createElement("span",{className:"d-block text-center text-lg font-weight-bold"},l.account.full_name),c.a.createElement("span",{class:"d-block text-center text-muted"},l.account.email))),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("span",{className:"d-block text-center text-xl mt-2"},m," at ",u),c.a.createElement("span",{className:"d-block text-center text-md mb-3"},"For ",c.a.createElement("b",null,t.duration)," minutes"),c.a.createElement("span",{className:"text-uppercase btn bg-".concat("DONE"===t.status?"success":"danger","-light btn-sm")+" d-block"},t.status))),c.a.createElement("hr",null),c.a.createElement("div",{className:"row text-sm"},c.a.createElement("div",{className:"col-6 col-md-4 text-center"},c.a.createElement("b",null,"Price:"),"\xa0",t.currency_symbol,t.price),c.a.createElement("div",{className:"col-6 col-md-4 text-center"},c.a.createElement("b",null,"Created at:"),"\xa0 ",new Date(t.created_at).toLocaleString()),"CLIENT"===i.accountType&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-6 col-md-4 text-center"},c.a.createElement("b",null,"Payment status:"),"\xa0",c.a.createElement("span",{className:"badge badge-"+("DONE"===t.status||"UPCOMING"===t.status?"success":"ON_HOLD"===t.status?"warning":"danger")},"DONE"===t.status||"UPCOMING"===t.status?"PAYED":"ON_HOLD"===t.status?"PENDING":"REFUNDED"))),"LAWYER"===i.accountType&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-6 col-md-4 text-center"},c.a.createElement("b",null,"Payment status:"),"\xa0",c.a.createElement("span",{className:"badge badge-"+("DONE"===t.status?"success":"ON_HOLD"===t.status||"UPCOMING"===t.status?"warning":"danger")},"DONE"===t.status?"PAYED":"ON_HOLD"===t.status||"UPCOMING"===t.status?"PENDING":"REFUNDED")))))},An=function(e){var t=e.match,a=Object(n.useState)(null),l=Object(s.a)(a,2),r=l[0],o=l[1],i=Object(n.useContext)(qn),m=Object(s.a)(i,1)[0],u=Object(n.useState)(m.accountType),d=Object(s.a)(u,2),f=d[0],b=(d[1],ye().request);return console.log(f),Object(n.useEffect)((function(){b({url:"/appointment/".concat(t.params.appId),method:"GET"}).then((function(e){o(e.appointment)})).catch((function(e){}))}),[]),c.a.createElement(En,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3"},c.a.createElement(pn,{header:"Appointment Details"},r&&c.a.createElement(In,{appointment:r,account:"CLIENT"===f?r.lawyer.account:r.client.account})))))},Dn=function(e){return c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8 offset-md-2"},c.a.createElement("div",{className:"account-content"},c.a.createElement("div",{className:"row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-md-12 col-lg-6 login-right"},c.a.createElement("div",{className:"login-header"},c.a.createElement("img",{src:"/undraw_mail_sent.svg",style:{width:"300px",padding:"20px",margin:"auto",display:"block"}}),c.a.createElement("h5",{style:{textAlign:"center"}},c.a.createElement("b",null,"Email verification sent"),c.a.createElement("br",null),"Please check your inbox for further instructions"))))))),c.a.createElement("br",null)))},Hn=function(){var e=Object(n.useContext)(qn),t=Object(s.a)(e,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{component:mt}),c.a.createElement(i.b,{path:"(.+)/login",render:function(e){return t.isLoggedIn?c.a.createElement(i.a,{to:e.match.params[0]}):c.a.createElement(hn,{back:e.match.params[0]})}}),c.a.createElement(i.b,{path:"(.+)/register",render:function(e){return t.isLoggedIn?c.a.createElement(i.a,{to:e.match.params[0]}):c.a.createElement(Nn,{back:e.match.params[0]})}}),c.a.createElement(i.b,{path:"(.+)/book-lawyer/:LawyerId",component:Cn}),c.a.createElement(i.b,{path:"(.+)/rate-lawyer/:appId/:lawyerId",component:Ln}),c.a.createElement(i.b,{path:"(.+)/details/:appId",component:An}),c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/"},c.a.createElement(i.a,{to:"/home"})),c.a.createElement(i.b,{path:"/home"},c.a.createElement(Me,null)),c.a.createElement(i.b,{path:"/list"},c.a.createElement(ht,null)),c.a.createElement(i.b,{path:"/blogs"},c.a.createElement(i.b,{path:"/blogs",component:_t})),c.a.createElement(i.b,{exact:!0,path:"/reset/:Token",component:xt}),c.a.createElement(v,{path:"/dashboard",component:La}),c.a.createElement(i.b,{path:"/profile/:LawyerId/:LawyerName",component:za}),c.a.createElement(v,{path:"/client-dashboard",component:Qa}),c.a.createElement(i.b,{path:"/forgot-password"},c.a.createElement(en,null)),c.a.createElement(i.b,{path:"/video/:AppointmentId",render:function(e){return c.a.createElement(nn,{appointment_id:e.match.params.AppointmentId})}}),c.a.createElement(i.b,{path:"/logout"},c.a.createElement(i.a,{replace:!0,to:"/"})),c.a.createElement(i.b,{path:"/calendar"},c.a.createElement(pa,null)),c.a.createElement(i.b,{path:"/post-register",component:Dn}),c.a.createElement(i.b,{path:"/not-found",status:404},c.a.createElement(Pn,null)),c.a.createElement(i.b,null,c.a.createElement(i.a,{replace:!0,to:"/not-found"}))),c.a.createElement(i.b,{component:ut}))},Mn=c.a.createContext(null),qn=c.a.createContext(null),Fn=c.a.createContext(null);function Rn(){var e=Object(i.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Gn=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)("Loading..."),m=Object(s.a)(r,2),f=m[0],p=m[1],h=Object(n.useState)({shouldNotNotify:function(){return!1}}),v=Object(s.a)(h,2),y=v[0],N=v[1],O=Object(E.a)(["accessToken","accountType","refreshToken","isLoggedIn","accountId"]),w=Object(s.a)(O,2),j=w[0],_=w[1],k={accessToken:j.accessToken||null,accountType:j.accountType||null,refreshToken:j.refreshToken||null,isLoggedIn:"true"===j.isLoggedIn||!1,accountId:j.accountId||null},x=Object(n.useState)(k),S=Object(s.a)(x,2),C=S[0],T=S[1];return Object(n.useEffect)((function(){var e=["refreshToken"];for(var t in C){var a={path:"/"};e.includes(t)&&(a.expires=g()().add(30,"days").toDate()),_(t,C[t],a)}}),[C]),c.a.createElement(c.a.Fragment,null,c.a.createElement(qn.Provider,{value:[C,T]},c.a.createElement(Fn.Provider,{value:{notificationsState:y,setNotificationsState:N}},c.a.createElement(Mn.Provider,{value:{isLoadingOverlayShown:a,setIsLoadingOverlayShown:l,loadingOverlayText:f,setLoadingOverlayText:p}},c.a.createElement(b.a,{active:a,spinner:!0,text:f,styles:{overlay:function(e){return Object(o.a)(Object(o.a)({},e),{},{position:"fixed"})},wrapper:function(e){return Object(o.a)(Object(o.a)({},e),{},{zIndex:"99999"})}}}),c.a.createElement(Rn,null),c.a.createElement(d.a,null),c.a.createElement(i.c,{history:u},c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"/admin",component:at}),c.a.createElement(i.b,{path:"/",component:Hn})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(te.a,null,c.a.createElement(Gn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[272,1,2]]]);
//# sourceMappingURL=main.163fd169.chunk.js.map